parcelRequire=function(e,r,n,t){function i(n,t){function o(e){return i(o.resolve(e))}function c(r){return e[n][1][r]||r}if(!r[n]){if(!e[n]){var l="function"==typeof parcelRequire&&parcelRequire;if(!t&&l)return l(n,!0);if(u)return u(n,!0);if(f&&"string"==typeof n)return f(n);var p=new Error("Cannot find module '"+n+"'");throw p.code="MODULE_NOT_FOUND",p}o.resolve=c;var a=r[n]=new i.Module(n);e[n][0].call(a.exports,o,a,a.exports,this)}return r[n].exports}function o(e){this.id=e,this.bundle=i,this.exports={}}var u="function"==typeof parcelRequire&&parcelRequire,f="function"==typeof require&&require;i.isParcelRequire=!0,i.Module=o,i.modules=e,i.cache=r,i.parent=u;for(var c=0;c<n.length;c++)i(n[c]);if(n.length){var l=i(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):t&&(this[t]=l)}return i}({7:[function(require,module,exports) {
window.addEventListener("load",function(){var e=document.getElementById("drop-zone"),t=document.getElementById("file"),n=document.getElementById("upload"),o=document.getElementById("clear"),l=document.getElementById("download"),d=document.getElementById("delete"),u=document.getElementById("downloadAnchorElem");e.ondragover=e.ondragenter=function(e){e.preventDefault()},e.onmouseenter=function(){e.classList.add("mouse-over")},e.onmouseleave=function(){e.classList.remove("mouse-over")},e.ondrop=t.onchange=function(n){n.dataTransfer&&(t.files=n.dataTransfer.files),t.files.length&&(e.textContent="Received "+t.files.item(t.files.length-1).name),n.preventDefault()},e.onclick=function(){t.click()},n.onclick=function(){if(t.files.length){var e=t.files.item(t.files.length-1);if("application/json"===e.type){var n=new FileReader;n.onload=function(e){var t=e.srcElement.result;fetch(new Request(encodeURI("/data/upload"),{method:"POST",body:t})).then(function(e){if(!e.ok)throw e.status+". "+e.statusText+" for "+e.url;return e.json()}).then(function(e){if(!e.ok)throw"Unable to upload. "+e.message;document.getElementById("result").innerText="Succesfully uploaded."}).catch(function(e){document.getElementById("result").innerText=e})},n.readAsText(e.slice())}else document.getElementById("result").innerText="Only JSON files are accepted as valid upload target."}else document.getElementById("result").innerText="Please supply a file before attempting an upload."},o.onclick=function(){t.value="",e.textContent="Drop files here..."},l.onclick=function(){fetch(new Request(encodeURI("/data/download"),{method:"GET",body:null})).then(function(e){if(!e.ok)throw e.status+". "+e.statusText+" for "+e.url;return e.json()}).then(function(e){if(!e.ok)throw"Unable to download. "+e.message;document.getElementById("result").innerText="Successfully downloaded.";var t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e.query));u.setAttribute("href",t),u.setAttribute("download","db.json"),u.click()}).catch(function(e){document.getElementById("result").innerText=e})},d.onclick=function(){fetch(new Request(encodeURI("/data/reset"),{method:"DELETE",body:null})).then(function(e){if(!e.ok)throw e.status+". "+e.statusText+" for "+e.url;return e.json()}).then(function(e){if(!e.ok)throw"Unable to reset. "+e.message;document.getElementById("result").innerText="Succesfully deleted."}).catch(function(e){document.getElementById("result").innerText=e})}});
},{}]},{},[7], null)
//# sourceMappingURL=/next/drag-drop.b3f6dc34.map