define("HintUtils2",["require","exports","module"],function(t,e,s){"use strict";function i(t,e,s,i){var n="",r=!1;return t.forEach(function(t,o){var a=t.type,p="";t.isOptional&&(r&&(p+="]"),r=!0),o>0&&(p+=", "),t.isOptional&&(p+="["),e&&e(p),n+=p,i||(a+=" "+t.name),s&&s(a,o),n+=a}),r&&(e&&e("]"),n+="]"),n}e.formatParameterHint=i}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define("node_modules/acorn/dist/acorn",["exports"],e):e(t.acorn=t.acorn||{})}(this,function(t){"use strict";function e(t,e){for(var s=65536,i=0;i<e.length;i+=2){if(s+=e[i],s>t)return!1;if(s+=e[i+1],s>=t)return!0}}function s(t,s){return 65>t?36===t:91>t?!0:97>t?95===t:123>t?!0:65535>=t?t>=170&&S.test(String.fromCharCode(t)):s===!1?!1:e(t,C)}function i(t,s){return 48>t?36===t:58>t?!0:65>t?!1:91>t?!0:97>t?95===t:123>t?!0:65535>=t?t>=170&&_.test(String.fromCharCode(t)):s===!1?!1:e(t,C)||e(t,N)}function n(t,e){return new L(t,{beforeExpr:!0,binop:e})}function r(t,e){return void 0===e&&(e={}),e.keyword=t,I[t]=new L(t,e)}function o(t){return 10===t||13===t||8232===t||8233==t}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var s=1,i=0;;){R.lastIndex=i;var n=R.exec(t);if(!(n&&n.index<e))return new D(s,e-i);++s,i=n.index+n[0].length}}function u(t){var e={};for(var s in U)e[s]=t&&p(t,s)?t[s]:U[s];if(null==e.allowReserved&&(e.allowReserved=e.ecmaVersion<5),a(e.onToken)){var i=e.onToken;e.onToken=function(t){return i.push(t)}}return a(e.onComment)&&(e.onComment=c(e,e.onComment)),e}function c(t,e){return function(s,i,n,r,o,a){var p={type:s?"Block":"Line",value:i,start:n,end:r};t.locations&&(p.loc=new j(this,o,a)),t.ranges&&(p.range=[n,r]),e.push(p)}}function l(t){return new RegExp("^("+t.replace(/ /g,"|")+")$")}function d(t,e,s,i){return t.type=e,t.end=s,this.options.locations&&(t.loc.end=i),this.options.ranges&&(t.range[1]=s),t}function f(t,e,s,i){try{return new RegExp(t,e)}catch(n){if(void 0!==s)throw n instanceof SyntaxError&&i.raise(s,"Error parsing regular expression: "+n.message),n}}function m(t){return 65535>=t?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(1023&t)+56320))}function y(t,e){return new G(e,t).parse()}function g(t,e,s){var i=new G(s,t,e);return i.nextToken(),i.parseExpression()}function x(t,e){return new G(e,t)}var k={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",7:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},v="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",b={5:v,6:v+" const class extends export import super"},T="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞮꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",E="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣔ-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఃా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ູົຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱꤀-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",S=new RegExp("["+T+"]"),_=new RegExp("["+T+E+"]");T=E=null;var C=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,785,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,25,391,63,32,0,449,56,264,8,2,36,18,0,50,29,881,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,65,0,32,6124,20,754,9486,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,10591,541],N=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,10,2,4,9,83,11,7,0,161,11,6,9,7,3,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,87,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,423,9,838,7,2,7,17,9,57,21,2,13,19882,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239],L=function(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null},w={beforeExpr:!0},P={startsExpr:!0},I={},A={num:new L("num",P),regexp:new L("regexp",P),string:new L("string",P),name:new L("name",P),eof:new L("eof"),bracketL:new L("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new L("]"),braceL:new L("{",{beforeExpr:!0,startsExpr:!0}),braceR:new L("}"),parenL:new L("(",{beforeExpr:!0,startsExpr:!0}),parenR:new L(")"),comma:new L(",",w),semi:new L(";",w),colon:new L(":",w),dot:new L("."),question:new L("?",w),arrow:new L("=>",w),template:new L("template"),ellipsis:new L("...",w),backQuote:new L("`",P),dollarBraceL:new L("${",{beforeExpr:!0,startsExpr:!0}),eq:new L("=",{beforeExpr:!0,isAssign:!0}),assign:new L("_=",{beforeExpr:!0,isAssign:!0}),incDec:new L("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new L("prefix",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:n("||",1),logicalAND:n("&&",2),bitwiseOR:n("|",3),bitwiseXOR:n("^",4),bitwiseAND:n("&",5),equality:n("==/!=",6),relational:n("</>",7),bitShift:n("<</>>",8),plusMin:new L("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:n("%",10),star:n("*",10),slash:n("/",10),starstar:new L("**",{beforeExpr:!0}),_break:r("break"),_case:r("case",w),_catch:r("catch"),_continue:r("continue"),_debugger:r("debugger"),_default:r("default",w),_do:r("do",{isLoop:!0,beforeExpr:!0}),_else:r("else",w),_finally:r("finally"),_for:r("for",{isLoop:!0}),_function:r("function",P),_if:r("if"),_return:r("return",w),_switch:r("switch"),_throw:r("throw",w),_try:r("try"),_var:r("var"),_const:r("const"),_while:r("while",{isLoop:!0}),_with:r("with"),_new:r("new",{beforeExpr:!0,startsExpr:!0}),_this:r("this",P),_super:r("super",P),_class:r("class"),_extends:r("extends",w),_export:r("export"),_import:r("import"),_null:r("null",P),_true:r("true",P),_false:r("false",P),_in:r("in",{beforeExpr:!0,binop:7}),_instanceof:r("instanceof",{beforeExpr:!0,binop:7}),_typeof:r("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:r("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:r("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},M=/\r\n?|\n|\u2028|\u2029/,R=new RegExp(M.source,"g"),F=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,O=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,D=function(t,e){this.line=t,this.column=e};D.prototype.offset=function(t){return new D(this.line,this.column+t)};var j=function(t,e,s){this.start=e,this.end=s,null!==t.sourceFile&&(this.source=t.sourceFile)},U={ecmaVersion:6,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}},H={},G=function(t,e,s){this.options=t=u(t),this.sourceFile=t.sourceFile,this.keywords=l(b[t.ecmaVersion>=6?6:5]);var i=t.allowReserved?"":k[t.ecmaVersion]+("module"==t.sourceType?" await":"");this.reservedWords=l(i);var n=(i?i+" ":"")+k.strict;this.reservedWordsStrict=l(n),this.reservedWordsStrictBind=l(n+" "+k.strictBind),this.input=String(e),this.containsEsc=!1,this.loadPlugins(t.plugins),s?(this.pos=s,this.lineStart=Math.max(0,this.input.lastIndexOf("\n",s)),this.curLine=this.input.slice(0,this.lineStart).split(M).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=A.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.strict=this.inModule="module"===t.sourceType,this.potentialArrowAt=-1,this.inFunction=this.inGenerator=!1,this.labels=[],0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2)};G.prototype.isKeyword=function(t){return this.keywords.test(t)},G.prototype.isReservedWord=function(t){return this.reservedWords.test(t)},G.prototype.extend=function(t,e){this[t]=e(this[t])},G.prototype.loadPlugins=function(t){var e=this;for(var s in t){var i=H[s];if(!i)throw new Error("Plugin '"+s+"' not found");i(e,t[s])}},G.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};var V=G.prototype;V.isUseStrict=function(t){return this.options.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.raw.slice(1,-1)},V.eat=function(t){return this.type===t?(this.next(),!0):!1},V.isContextual=function(t){return this.type===A.name&&this.value===t},V.eatContextual=function(t){return this.value===t&&this.eat(A.name)},V.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},V.canInsertSemicolon=function(){return this.type===A.eof||this.type===A.braceR||M.test(this.input.slice(this.lastTokEnd,this.start))},V.insertSemicolon=function(){return this.canInsertSemicolon()?(this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0):void 0},V.semicolon=function(){this.eat(A.semi)||this.insertSemicolon()||this.unexpected()},V.afterTrailingComma=function(t){return this.type==t?(this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),this.next(),!0):void 0},V.expect=function(t){this.eat(t)||this.unexpected()},V.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")};var B=function(){this.shorthandAssign=0,this.trailingComma=0};V.checkPatternErrors=function(t,e){var s=t&&t.trailingComma;return e?void(s&&this.raise(s,"Comma is not permitted after the rest element")):!!s},V.checkExpressionErrors=function(t,e){var s=t&&t.shorthandAssign;return e?void(s&&this.raise(s,"Shorthand property assignments are valid only in destructuring patterns")):!!s};var q=G.prototype;q.parseTopLevel=function(t){var e=this,s=!0;for(t.body||(t.body=[]);this.type!==A.eof;){var i=e.parseStatement(!0,!0);t.body.push(i),s&&(e.isUseStrict(i)&&e.setStrict(!0),s=!1)}return this.next(),this.options.ecmaVersion>=6&&(t.sourceType=this.options.sourceType),this.finishNode(t,"Program")};var W={kind:"loop"},$={kind:"switch"};q.isLet=function(){if(this.type!==A.name||this.options.ecmaVersion<6||"let"!=this.value)return!1;O.lastIndex=this.pos;var t=O.exec(this.input),e=this.pos+t[0].length,n=this.input.charCodeAt(e);if(91===n||123==n)return!0;if(s(n,!0)){for(var r=e+1;i(this.input.charCodeAt(r),!0);++r);var o=this.input.slice(e,r);if(!this.isKeyword(o))return!0}return!1},q.parseStatement=function(t,e){var s,i=this.type,n=this.startNode();switch(this.isLet()&&(i=A._var,s="let"),i){case A._break:case A._continue:return this.parseBreakContinueStatement(n,i.keyword);case A._debugger:return this.parseDebuggerStatement(n);case A._do:return this.parseDoStatement(n);case A._for:return this.parseForStatement(n);case A._function:return!t&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(n);case A._class:return t||this.unexpected(),this.parseClass(n,!0);case A._if:return this.parseIfStatement(n);case A._return:return this.parseReturnStatement(n);case A._switch:return this.parseSwitchStatement(n);case A._throw:return this.parseThrowStatement(n);case A._try:return this.parseTryStatement(n);case A._const:case A._var:return s=s||this.value,t||"var"==s||this.unexpected(),this.parseVarStatement(n,s);case A._while:return this.parseWhileStatement(n);case A._with:return this.parseWithStatement(n);case A.braceL:return this.parseBlock();case A.semi:return this.parseEmptyStatement(n);case A._export:case A._import:return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===A._import?this.parseImport(n):this.parseExport(n);default:var r=this.value,o=this.parseExpression();return i===A.name&&"Identifier"===o.type&&this.eat(A.colon)?this.parseLabeledStatement(n,r,o):this.parseExpressionStatement(n,o)}},q.parseBreakContinueStatement=function(t,e){var s=this,i="break"==e;this.next(),this.eat(A.semi)||this.insertSemicolon()?t.label=null:this.type!==A.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var r=s.labels[n];if(null==t.label||r.name===t.label.name){if(null!=r.kind&&(i||"loop"===r.kind))break;if(t.label&&i)break}}return n===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")},q.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},q.parseDoStatement=function(t){return this.next(),this.labels.push(W),t.body=this.parseStatement(!1),this.labels.pop(),this.expect(A._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(A.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},q.parseForStatement=function(t){if(this.next(),this.labels.push(W),this.expect(A.parenL),this.type===A.semi)return this.parseFor(t,null);var e=this.isLet();if(this.type===A._var||this.type===A._const||e){var s=this.startNode(),i=e?"let":this.value;return this.next(),this.parseVar(s,!0,i),this.finishNode(s,"VariableDeclaration"),!(this.type===A._in||this.options.ecmaVersion>=6&&this.isContextual("of"))||1!==s.declarations.length||"var"!==i&&s.declarations[0].init?this.parseFor(t,s):this.parseForIn(t,s)}var n=new B,r=this.parseExpression(!0,n);return this.type===A._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.checkPatternErrors(n,!0),this.toAssignable(r),this.checkLVal(r),this.parseForIn(t,r)):(this.checkExpressionErrors(n,!0),this.parseFor(t,r))},q.parseFunctionStatement=function(t){return this.next(),this.parseFunction(t,!0)},q.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement(!1),t.alternate=this.eat(A._else)?this.parseStatement(!1):null,this.finishNode(t,"IfStatement")},q.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(A.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},q.parseSwitchStatement=function(t){var e=this;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(A.braceL),this.labels.push($);for(var s,i=!1;this.type!=A.braceR;)if(e.type===A._case||e.type===A._default){var n=e.type===A._case;s&&e.finishNode(s,"SwitchCase"),t.cases.push(s=e.startNode()),s.consequent=[],e.next(),n?s.test=e.parseExpression():(i&&e.raiseRecoverable(e.lastTokStart,"Multiple default clauses"),i=!0,s.test=null),e.expect(A.colon)}else s||e.unexpected(),s.consequent.push(e.parseStatement(!0));return s&&this.finishNode(s,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},q.parseThrowStatement=function(t){return this.next(),M.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var z=[];q.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===A._catch){var e=this.startNode();this.next(),this.expect(A.parenL),e.param=this.parseBindingAtom(),this.checkLVal(e.param,!0),this.expect(A.parenR),e.body=this.parseBlock(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(A._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},q.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")},q.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(W),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,"WhileStatement")},q.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement(!1),this.finishNode(t,"WithStatement")},q.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},q.parseLabeledStatement=function(t,e,s){for(var i=this,n=0;n<this.labels.length;++n)i.labels[n].name===e&&i.raise(s.start,"Label '"+e+"' is already declared");for(var r=this.type.isLoop?"loop":this.type===A._switch?"switch":null,o=this.labels.length-1;o>=0;o--){var a=i.labels[o];if(a.statementStart!=t.start)break;a.statementStart=i.start,a.kind=r}return this.labels.push({name:e,kind:r,statementStart:this.start}),t.body=this.parseStatement(!0),this.labels.pop(),t.label=s,this.finishNode(t,"LabeledStatement")},q.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},q.parseBlock=function(t){var e,s=this,i=this.startNode(),n=!0;for(i.body=[],this.expect(A.braceL);!this.eat(A.braceR);){var r=s.parseStatement(!0);i.body.push(r),n&&t&&s.isUseStrict(r)&&(e=s.strict,s.setStrict(s.strict=!0)),n=!1}return e===!1&&this.setStrict(!1),this.finishNode(i,"BlockStatement")},q.parseFor=function(t,e){return t.init=e,this.expect(A.semi),t.test=this.type===A.semi?null:this.parseExpression(),this.expect(A.semi),t.update=this.type===A.parenR?null:this.parseExpression(),this.expect(A.parenR),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,"ForStatement")},q.parseForIn=function(t,e){var s=this.type===A._in?"ForInStatement":"ForOfStatement";return this.next(),t.left=e,t.right=this.parseExpression(),this.expect(A.parenR),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,s)},q.parseVar=function(t,e,s){var i=this;for(t.declarations=[],t.kind=s;;){var n=i.startNode();if(i.parseVarId(n),i.eat(A.eq)?n.init=i.parseMaybeAssign(e):"const"!==s||i.type===A._in||i.options.ecmaVersion>=6&&i.isContextual("of")?"Identifier"==n.id.type||e&&(i.type===A._in||i.isContextual("of"))?n.init=null:i.raise(i.lastTokEnd,"Complex binding patterns require an initialization value"):i.unexpected(),t.declarations.push(i.finishNode(n,"VariableDeclarator")),!i.eat(A.comma))break}return t},q.parseVarId=function(t){t.id=this.parseBindingAtom(),this.checkLVal(t.id,!0)},q.parseFunction=function(t,e,s){this.initFunction(t),this.options.ecmaVersion>=6&&(t.generator=this.eat(A.star));var i=this.inGenerator;return this.inGenerator=t.generator,(e||this.type===A.name)&&(t.id=this.parseIdent()),this.parseFunctionParams(t),this.parseFunctionBody(t,s),this.inGenerator=i,this.finishNode(t,e?"FunctionDeclaration":"FunctionExpression")},q.parseFunctionParams=function(t){this.expect(A.parenL),t.params=this.parseBindingList(A.parenR,!1,!1,!0)},q.parseClass=function(t,e){var s=this;this.next(),this.parseClassId(t,e),this.parseClassSuper(t);var i=this.startNode(),n=!1;for(i.body=[],this.expect(A.braceL);!this.eat(A.braceR);)if(!s.eat(A.semi)){var r=s.startNode(),o=s.eat(A.star),a=s.type===A.name&&"static"===s.value;s.parsePropertyName(r),r["static"]=a&&s.type!==A.parenL,r["static"]&&(o&&s.unexpected(),o=s.eat(A.star),s.parsePropertyName(r)),r.kind="method";var p=!1;if(!r.computed){var h=r.key;o||"Identifier"!==h.type||s.type===A.parenL||"get"!==h.name&&"set"!==h.name||(p=!0,r.kind=h.name,h=s.parsePropertyName(r)),!r["static"]&&("Identifier"===h.type&&"constructor"===h.name||"Literal"===h.type&&"constructor"===h.value)&&(n&&s.raise(h.start,"Duplicate constructor in the same class"),p&&s.raise(h.start,"Constructor can't have get/set modifier"),o&&s.raise(h.start,"Constructor can't be a generator"),r.kind="constructor",n=!0)}if(s.parseClassMethod(i,r,o),p){var u="get"===r.kind?0:1;if(r.value.params.length!==u){var c=r.value.start;"get"===r.kind?s.raiseRecoverable(c,"getter should have no params"):s.raiseRecoverable(c,"setter should have exactly one param")}"set"===r.kind&&"RestElement"===r.value.params[0].type&&s.raise(r.value.params[0].start,"Setter cannot use rest params")}}return t.body=this.finishNode(i,"ClassBody"),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},q.parseClassMethod=function(t,e,s){e.value=this.parseMethod(s),t.body.push(this.finishNode(e,"MethodDefinition"))},q.parseClassId=function(t,e){t.id=this.type===A.name?this.parseIdent():e?this.unexpected():null},q.parseClassSuper=function(t){t.superClass=this.eat(A._extends)?this.parseExprSubscripts():null},q.parseExport=function(t){var e=this;if(this.next(),this.eat(A.star))return this.expectContextual("from"),t.source=this.type===A.string?this.parseExprAtom():this.unexpected(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(A._default)){var s=this.type==A.parenL,i=this.parseMaybeAssign(),n=!0;return s||"FunctionExpression"!=i.type&&"ClassExpression"!=i.type||(n=!1,i.id&&(i.type="FunctionExpression"==i.type?"FunctionDeclaration":"ClassDeclaration")),t.declaration=i,n&&this.semicolon(),this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(!0),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(),this.eatContextual("from"))t.source=this.type===A.string?this.parseExprAtom():this.unexpected();else{for(var r=0;r<t.specifiers.length;r++)(e.keywords.test(t.specifiers[r].local.name)||e.reservedWords.test(t.specifiers[r].local.name))&&e.unexpected(t.specifiers[r].local.start);t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},q.shouldParseExportStatement=function(){return this.type.keyword||this.isLet()},q.parseExportSpecifiers=function(){var t=this,e=[],s=!0;for(this.expect(A.braceL);!this.eat(A.braceR);){if(s)s=!1;else if(t.expect(A.comma),t.afterTrailingComma(A.braceR))break;var i=t.startNode();i.local=t.parseIdent(t.type===A._default),i.exported=t.eatContextual("as")?t.parseIdent(!0):i.local,e.push(t.finishNode(i,"ExportSpecifier"))}return e},q.parseImport=function(t){return this.next(),this.type===A.string?(t.specifiers=z,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===A.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},q.parseImportSpecifiers=function(){var t=this,e=[],s=!0;if(this.type===A.name){var i=this.startNode();if(i.local=this.parseIdent(),this.checkLVal(i.local,!0),e.push(this.finishNode(i,"ImportDefaultSpecifier")),!this.eat(A.comma))return e}if(this.type===A.star){var n=this.startNode();return this.next(),this.expectContextual("as"),n.local=this.parseIdent(),this.checkLVal(n.local,!0),e.push(this.finishNode(n,"ImportNamespaceSpecifier")),e}for(this.expect(A.braceL);!this.eat(A.braceR);){if(s)s=!1;else if(t.expect(A.comma),t.afterTrailingComma(A.braceR))break;var r=t.startNode();r.imported=t.parseIdent(!0),t.eatContextual("as")?r.local=t.parseIdent():(r.local=r.imported,t.isKeyword(r.local.name)&&t.unexpected(r.local.start),t.reservedWordsStrict.test(r.local.name)&&t.raise(r.local.start,"The keyword '"+r.local.name+"' is reserved")),t.checkLVal(r.local,!0),e.push(t.finishNode(r,"ImportSpecifier"))}return e};var X=G.prototype;X.toAssignable=function(t,e){var s=this;if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":break;case"ObjectExpression":t.type="ObjectPattern";for(var i=0;i<t.properties.length;i++){var n=t.properties[i];"init"!==n.kind&&s.raise(n.key.start,"Object pattern can't contain getter or setter"),s.toAssignable(n.value,e)}break;case"ArrayExpression":t.type="ArrayPattern",this.toAssignableList(t.elements,e);break;case"AssignmentExpression":if("="!==t.operator){this.raise(t.left.end,"Only '=' operator can be used for specifying default value.");break}t.type="AssignmentPattern",delete t.operator;case"AssignmentPattern":"YieldExpression"===t.right.type&&this.raise(t.right.start,"Yield expression cannot be a default value");break;case"ParenthesizedExpression":t.expression=this.toAssignable(t.expression,e);break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}return t},X.toAssignableList=function(t,e){var s=this,i=t.length;if(i){var n=t[i-1];if(n&&"RestElement"==n.type)--i;else if(n&&"SpreadElement"==n.type){n.type="RestElement";var r=n.argument;this.toAssignable(r,e),"Identifier"!==r.type&&"MemberExpression"!==r.type&&"ArrayPattern"!==r.type&&this.unexpected(r.start),--i}e&&n&&"RestElement"===n.type&&"Identifier"!==n.argument.type&&this.unexpected(n.argument.start)}for(var o=0;i>o;o++){var a=t[o];a&&s.toAssignable(a,e)}return t},X.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},X.parseRest=function(t){var e=this.startNode();return this.next(),t?e.argument=this.type===A.name?this.parseIdent():this.unexpected():e.argument=this.type===A.name||this.type===A.bracketL?this.parseBindingAtom():this.unexpected(),this.finishNode(e,"RestElement")},X.parseBindingAtom=function(){if(this.options.ecmaVersion<6)return this.parseIdent();switch(this.type){case A.name:return this.parseIdent();case A.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(A.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case A.braceL:return this.parseObj(!0);default:this.unexpected()}},X.parseBindingList=function(t,e,s,i){for(var n=this,r=[],o=!0;!this.eat(t);)if(o?o=!1:n.expect(A.comma),e&&n.type===A.comma)r.push(null);else{if(s&&n.afterTrailingComma(t))break;if(n.type===A.ellipsis){var a=n.parseRest(i);n.parseBindingListItem(a),r.push(a),n.type===A.comma&&n.raise(n.start,"Comma is not permitted after the rest element"),n.expect(t);break}var p=n.parseMaybeDefault(n.start,n.startLoc);n.parseBindingListItem(p),r.push(p)}return r},X.parseBindingListItem=function(t){return t},X.parseMaybeDefault=function(t,e,s){if(s=s||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(A.eq))return s;var i=this.startNodeAt(t,e);return i.left=s,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},X.checkLVal=function(t,e,s){var i=this;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(e?"Binding ":"Assigning to ")+t.name+" in strict mode"),s&&(p(s,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),s[t.name]=!0);break;case"MemberExpression":e&&this.raiseRecoverable(t.start,(e?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var n=0;n<t.properties.length;n++)i.checkLVal(t.properties[n].value,e,s);break;case"ArrayPattern":for(var r=0;r<t.elements.length;r++){var o=t.elements[r];o&&i.checkLVal(o,e,s)}break;case"AssignmentPattern":this.checkLVal(t.left,e,s);break;case"RestElement":this.checkLVal(t.argument,e,s);break;case"ParenthesizedExpression":this.checkLVal(t.expression,e,s);break;default:this.raise(t.start,(e?"Binding":"Assigning to")+" rvalue")}};var Y=G.prototype;Y.checkPropClash=function(t,e){if(!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var s,i=t.key;switch(i.type){case"Identifier":s=i.name;break;case"Literal":s=String(i.value);break;default:return}var n=t.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===s&&"init"===n&&(e.proto&&this.raiseRecoverable(i.start,"Redefinition of __proto__ property"),e.proto=!0));s="$"+s;var r=e[s];if(r){var o="init"!==n;((this.strict||o)&&r[n]||!(o^r.init))&&this.raiseRecoverable(i.start,"Redefinition of property")}else r=e[s]={init:!1,get:!1,set:!1};r[n]=!0}},Y.parseExpression=function(t,e){var s=this,i=this.start,n=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===A.comma){var o=this.startNodeAt(i,n);for(o.expressions=[r];this.eat(A.comma);)o.expressions.push(s.parseMaybeAssign(t,e));return this.finishNode(o,"SequenceExpression")}return r},Y.parseMaybeAssign=function(t,e,s){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var i=!1;e||(e=new B,i=!0);var n=this.start,r=this.startLoc;(this.type==A.parenL||this.type==A.name)&&(this.potentialArrowAt=this.start);var o=this.parseMaybeConditional(t,e);if(s&&(o=s.call(this,o,n,r)),this.type.isAssign){this.checkPatternErrors(e,!0),i||B.call(e);var a=this.startNodeAt(n,r);return a.operator=this.value,a.left=this.type===A.eq?this.toAssignable(o):o,e.shorthandAssign=0,this.checkLVal(o),this.next(),a.right=this.parseMaybeAssign(t),this.finishNode(a,"AssignmentExpression")}return i&&this.checkExpressionErrors(e,!0),o},Y.parseMaybeConditional=function(t,e){var s=this.start,i=this.startLoc,n=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return n;if(this.eat(A.question)){var r=this.startNodeAt(s,i);return r.test=n,r.consequent=this.parseMaybeAssign(),this.expect(A.colon),r.alternate=this.parseMaybeAssign(t),this.finishNode(r,"ConditionalExpression")}return n},Y.parseExprOps=function(t,e){var s=this.start,i=this.startLoc,n=this.parseMaybeUnary(e,!1);return this.checkExpressionErrors(e)?n:this.parseExprOp(n,s,i,-1,t)},Y.parseExprOp=function(t,e,s,i,n){var r=this.type.binop;if(null!=r&&(!n||this.type!==A._in)&&r>i){var o=this.type===A.logicalOR||this.type===A.logicalAND,a=this.value;this.next();var p=this.start,h=this.startLoc,u=this.parseExprOp(this.parseMaybeUnary(null,!1),p,h,r,n),c=this.buildBinary(e,s,t,u,a,o);return this.parseExprOp(c,e,s,i,n)}return t},Y.buildBinary=function(t,e,s,i,n,r){var o=this.startNodeAt(t,e);return o.left=s,o.operator=n,o.right=i,this.finishNode(o,r?"LogicalExpression":"BinaryExpression")},Y.parseMaybeUnary=function(t,e){
var s,i=this,n=this.start,r=this.startLoc;if(this.type.prefix){var o=this.startNode(),a=this.type===A.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(t,!0),a?this.checkLVal(o.argument):this.strict&&"delete"===o.operator&&"Identifier"===o.argument.type?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):e=!0,s=this.finishNode(o,a?"UpdateExpression":"UnaryExpression")}else{if(s=this.parseExprSubscripts(t),this.checkExpressionErrors(t))return s;for(;this.type.postfix&&!this.canInsertSemicolon();){var p=i.startNodeAt(n,r);p.operator=i.value,p.prefix=!1,p.argument=s,i.checkLVal(s),i.next(),s=i.finishNode(p,"UpdateExpression")}}return!e&&this.eat(A.starstar)?this.buildBinary(n,r,s,this.parseMaybeUnary(null,!1),"**",!1):s},Y.parseExprSubscripts=function(t){var e=this.start,s=this.startLoc,i=this.parseExprAtom(t),n="ArrowFunctionExpression"===i.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);return this.checkExpressionErrors(t)||n?i:this.parseSubscripts(i,e,s)},Y.parseSubscripts=function(t,e,s,i){for(var n=this;;)if(n.eat(A.dot)){var r=n.startNodeAt(e,s);r.object=t,r.property=n.parseIdent(!0),r.computed=!1,t=n.finishNode(r,"MemberExpression")}else if(n.eat(A.bracketL)){var o=n.startNodeAt(e,s);o.object=t,o.property=n.parseExpression(),o.computed=!0,n.expect(A.bracketR),t=n.finishNode(o,"MemberExpression")}else if(!i&&n.eat(A.parenL)){var a=n.startNodeAt(e,s);a.callee=t,a.arguments=n.parseExprList(A.parenR,!1),t=n.finishNode(a,"CallExpression")}else{if(n.type!==A.backQuote)return t;var p=n.startNodeAt(e,s);p.tag=t,p.quasi=n.parseTemplate(),t=n.finishNode(p,"TaggedTemplateExpression")}},Y.parseExprAtom=function(t){var e,s=this.potentialArrowAt==this.start;switch(this.type){case A._super:this.inFunction||this.raise(this.start,"'super' outside of function or class");case A._this:var i=this.type===A._this?"ThisExpression":"Super";return e=this.startNode(),this.next(),this.finishNode(e,i);case A.name:var n=this.start,r=this.startLoc,o=this.parseIdent(this.type!==A.name);return s&&!this.canInsertSemicolon()&&this.eat(A.arrow)?this.parseArrowExpression(this.startNodeAt(n,r),[o]):o;case A.regexp:var a=this.value;return e=this.parseLiteral(a.value),e.regex={pattern:a.pattern,flags:a.flags},e;case A.num:case A.string:return this.parseLiteral(this.value);case A._null:case A._true:case A._false:return e=this.startNode(),e.value=this.type===A._null?null:this.type===A._true,e.raw=this.type.keyword,this.next(),this.finishNode(e,"Literal");case A.parenL:return this.parseParenAndDistinguishExpression(s);case A.bracketL:return e=this.startNode(),this.next(),e.elements=this.parseExprList(A.bracketR,!0,!0,t),this.finishNode(e,"ArrayExpression");case A.braceL:return this.parseObj(!1,t);case A._function:return e=this.startNode(),this.next(),this.parseFunction(e,!1);case A._class:return this.parseClass(this.startNode(),!1);case A._new:return this.parseNew();case A.backQuote:return this.parseTemplate();default:this.unexpected()}},Y.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(e,"Literal")},Y.parseParenExpression=function(){this.expect(A.parenL);var t=this.parseExpression();return this.expect(A.parenR),t},Y.parseParenAndDistinguishExpression=function(t){var e,s=this,i=this.start,n=this.startLoc;if(this.options.ecmaVersion>=6){this.next();for(var r,o,a=this.start,p=this.startLoc,h=[],u=!0,c=new B;this.type!==A.parenR;){if(u?u=!1:s.expect(A.comma),s.type===A.ellipsis){r=s.start,h.push(s.parseParenItem(s.parseRest()));break}s.type!==A.parenL||o||(o=s.start),h.push(s.parseMaybeAssign(!1,c,s.parseParenItem))}var l=this.start,d=this.startLoc;if(this.expect(A.parenR),t&&!this.canInsertSemicolon()&&this.eat(A.arrow))return this.checkPatternErrors(c,!0),o&&this.unexpected(o),this.parseParenArrowList(i,n,h);h.length||this.unexpected(this.lastTokStart),r&&this.unexpected(r),this.checkExpressionErrors(c,!0),h.length>1?(e=this.startNodeAt(a,p),e.expressions=h,this.finishNodeAt(e,"SequenceExpression",l,d)):e=h[0]}else e=this.parseParenExpression();if(this.options.preserveParens){var f=this.startNodeAt(i,n);return f.expression=e,this.finishNode(f,"ParenthesizedExpression")}return e},Y.parseParenItem=function(t){return t},Y.parseParenArrowList=function(t,e,s){return this.parseArrowExpression(this.startNodeAt(t,e),s)};var J=[];Y.parseNew=function(){var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(A.dot))return t.meta=e,t.property=this.parseIdent(!0),"target"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is new.target"),this.inFunction||this.raiseRecoverable(t.start,"new.target can only be used in functions"),this.finishNode(t,"MetaProperty");var s=this.start,i=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(),s,i,!0),this.eat(A.parenL)?t.arguments=this.parseExprList(A.parenR,!1):t.arguments=J,this.finishNode(t,"NewExpression")},Y.parseTemplateElement=function(){var t=this.startNode();return t.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),t.tail=this.type===A.backQuote,this.finishNode(t,"TemplateElement")},Y.parseTemplate=function(){var t=this,e=this.startNode();this.next(),e.expressions=[];var s=this.parseTemplateElement();for(e.quasis=[s];!s.tail;)t.expect(A.dollarBraceL),e.expressions.push(t.parseExpression()),t.expect(A.braceR),e.quasis.push(s=t.parseTemplateElement());return this.next(),this.finishNode(e,"TemplateLiteral")},Y.parseObj=function(t,e){var s=this,i=this.startNode(),n=!0,r={};for(i.properties=[],this.next();!this.eat(A.braceR);){if(n)n=!1;else if(s.expect(A.comma),s.afterTrailingComma(A.braceR))break;var o,a,p,h=s.startNode();s.options.ecmaVersion>=6&&(h.method=!1,h.shorthand=!1,(t||e)&&(a=s.start,p=s.startLoc),t||(o=s.eat(A.star))),s.parsePropertyName(h),s.parsePropertyValue(h,t,o,a,p,e),s.checkPropClash(h,r),i.properties.push(s.finishNode(h,"Property"))}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")},Y.parsePropertyValue=function(t,e,s,i,n,r){if(this.eat(A.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,r),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===A.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(s);else if(this.options.ecmaVersion>=5&&!t.computed&&"Identifier"===t.key.type&&("get"===t.key.name||"set"===t.key.name)&&this.type!=A.comma&&this.type!=A.braceR){(s||e)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var o="get"===t.kind?0:1;if(t.value.params.length!==o){var a=t.value.start;"get"===t.kind?this.raiseRecoverable(a,"getter should have no params"):this.raiseRecoverable(a,"setter should have exactly one param")}"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!t.computed&&"Identifier"===t.key.type?((this.keywords.test(t.key.name)||(this.strict?this.reservedWordsStrictBind:this.reservedWords).test(t.key.name)||this.inGenerator&&"yield"==t.key.name)&&this.raiseRecoverable(t.key.start,"'"+t.key.name+"' can not be used as shorthand property"),t.kind="init",e?t.value=this.parseMaybeDefault(i,n,t.key):this.type===A.eq&&r?(r.shorthandAssign||(r.shorthandAssign=this.start),t.value=this.parseMaybeDefault(i,n,t.key)):t.value=t.key,t.shorthand=!0):this.unexpected()},Y.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(A.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(A.bracketR),t.key;t.computed=!1}return t.key=this.type===A.num||this.type===A.string?this.parseExprAtom():this.parseIdent(!0)},Y.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=!1,t.expression=!1)},Y.parseMethod=function(t){var e=this.startNode(),s=this.inGenerator;return this.inGenerator=t,this.initFunction(e),this.expect(A.parenL),e.params=this.parseBindingList(A.parenR,!1,!1),this.options.ecmaVersion>=6&&(e.generator=t),this.parseFunctionBody(e,!1),this.inGenerator=s,this.finishNode(e,"FunctionExpression")},Y.parseArrowExpression=function(t,e){var s=this.inGenerator;return this.inGenerator=!1,this.initFunction(t),t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0),this.inGenerator=s,this.finishNode(t,"ArrowFunctionExpression")},Y.parseFunctionBody=function(t,e){var s=e&&this.type!==A.braceL;if(s)t.body=this.parseMaybeAssign(),t.expression=!0;else{var i=this.inFunction,n=this.labels;this.inFunction=!0,this.labels=[],t.body=this.parseBlock(!0),t.expression=!1,this.inFunction=i,this.labels=n}var r=!s&&t.body.body.length&&this.isUseStrict(t.body.body[0])?t.body.body[0]:null;if(this.strict||r){var o=this.strict;this.strict=!0,t.id&&this.checkLVal(t.id,!0),this.checkParams(t,r),this.strict=o}else e&&this.checkParams(t,r)},Y.checkParams=function(t,e){for(var s=this,i={},n=0;n<t.params.length;n++)e&&s.options.ecmaVersion>=7&&"Identifier"!==t.params[n].type&&s.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"),s.checkLVal(t.params[n],!0,i)},Y.parseExprList=function(t,e,s,i){for(var n=this,r=[],o=!0;!this.eat(t);){if(o)o=!1;else if(n.expect(A.comma),e&&n.afterTrailingComma(t))break;var a;s&&n.type===A.comma?a=null:n.type===A.ellipsis?(a=n.parseSpread(i),n.type===A.comma&&i&&!i.trailingComma&&(i.trailingComma=n.lastTokStart)):a=n.parseMaybeAssign(!1,i),r.push(a)}return r},Y.parseIdent=function(t){var e=this.startNode();return t&&"never"==this.options.allowReserved&&(t=!1),this.type===A.name?(!t&&(this.strict?this.reservedWordsStrict:this.reservedWords).test(this.value)&&(this.options.ecmaVersion>=6||-1==this.input.slice(this.start,this.end).indexOf("\\"))&&this.raiseRecoverable(this.start,"The keyword '"+this.value+"' is reserved"),!t&&this.inGenerator&&"yield"===this.value&&this.raiseRecoverable(this.start,"Can not use 'yield' as identifier inside a generator"),e.name=this.value):t&&this.type.keyword?e.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(e,"Identifier")},Y.parseYield=function(){var t=this.startNode();return this.next(),this.type==A.semi||this.canInsertSemicolon()||this.type!=A.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(A.star),t.argument=this.parseMaybeAssign()),this.finishNode(t,"YieldExpression")};var Q=G.prototype;Q.raise=function(t,e){var s=h(this.input,t);e+=" ("+s.line+":"+s.column+")";var i=new SyntaxError(e);throw i.pos=t,i.loc=s,i.raisedAt=this.pos,i},Q.raiseRecoverable=Q.raise,Q.curPosition=function(){return this.options.locations?new D(this.curLine,this.pos-this.lineStart):void 0};var K=function(t,e,s){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new j(t,s)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},Z=G.prototype;Z.startNode=function(){return new K(this,this.start,this.startLoc)},Z.startNodeAt=function(t,e){return new K(this,t,e)},Z.finishNode=function(t,e){return d.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)},Z.finishNodeAt=function(t,e,s,i){return d.call(this,t,e,s,i)};var tt=function(t,e,s,i){this.token=t,this.isExpr=!!e,this.preserveSpace=!!s,this.override=i},et={b_stat:new tt("{",!1),b_expr:new tt("{",!0),b_tmpl:new tt("${",!0),p_stat:new tt("(",!1),p_expr:new tt("(",!0),q_tmpl:new tt("`",!0,!0,function(t){return t.readTmplToken()}),f_expr:new tt("function",!0)},st=G.prototype;st.initialContext=function(){return[et.b_stat]},st.braceIsBlock=function(t){if(t===A.colon){var e=this.curContext();if(e===et.b_stat||e===et.b_expr)return!e.isExpr}return t===A._return?M.test(this.input.slice(this.lastTokEnd,this.start)):t===A._else||t===A.semi||t===A.eof||t===A.parenR?!0:t==A.braceL?this.curContext()===et.b_stat:!this.exprAllowed},st.updateContext=function(t){var e,s=this.type;s.keyword&&t==A.dot?this.exprAllowed=!1:(e=s.updateContext)?e.call(this,t):this.exprAllowed=s.beforeExpr},A.parenR.updateContext=A.braceR.updateContext=function(){if(1==this.context.length)return void(this.exprAllowed=!0);var t=this.context.pop();t===et.b_stat&&this.curContext()===et.f_expr?(this.context.pop(),this.exprAllowed=!1):t===et.b_tmpl?this.exprAllowed=!0:this.exprAllowed=!t.isExpr},A.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?et.b_stat:et.b_expr),this.exprAllowed=!0},A.dollarBraceL.updateContext=function(){this.context.push(et.b_tmpl),this.exprAllowed=!0},A.parenL.updateContext=function(t){var e=t===A._if||t===A._for||t===A._with||t===A._while;this.context.push(e?et.p_stat:et.p_expr),this.exprAllowed=!0},A.incDec.updateContext=function(){},A._function.updateContext=function(t){t.beforeExpr&&t!==A.semi&&t!==A._else&&(t!==A.colon&&t!==A.braceL||this.curContext()!==et.b_stat)&&this.context.push(et.f_expr),this.exprAllowed=!1},A.backQuote.updateContext=function(){this.curContext()===et.q_tmpl?this.context.pop():this.context.push(et.q_tmpl),this.exprAllowed=!1};var it=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new j(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},nt=G.prototype,rt="object"==typeof Packages&&"[object JavaPackage]"==Object.prototype.toString.call(Packages);nt.next=function(){this.options.onToken&&this.options.onToken(new it(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},nt.getToken=function(){return this.next(),new it(this)},"undefined"!=typeof Symbol&&(nt[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===A.eof,value:e}}}}),nt.setStrict=function(t){var e=this;if(this.strict=t,this.type===A.num||this.type===A.string){if(this.pos=this.start,this.options.locations)for(;this.pos<this.lineStart;)e.lineStart=e.input.lastIndexOf("\n",e.lineStart-2)+1,--e.curLine;this.nextToken()}},nt.curContext=function(){return this.context[this.context.length-1]},nt.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(A.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},nt.readToken=function(t){return s(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},nt.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(55295>=t||t>=57344)return t;var e=this.input.charCodeAt(this.pos+1);return(t<<10)+e-56613888},nt.skipBlockComment=function(){var t=this,e=this.options.onComment&&this.curPosition(),s=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(-1===i&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations){R.lastIndex=s;for(var n;(n=R.exec(this.input))&&n.index<this.pos;)++t.curLine,t.lineStart=n.index+n[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(s+2,i),s,this.pos,e,this.curPosition())},nt.skipLineComment=function(t){for(var e=this,s=this.pos,i=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&10!==n&&13!==n&&8232!==n&&8233!==n;)++e.pos,n=e.input.charCodeAt(e.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(s+t,this.pos),s,this.pos,i,this.curPosition())},nt.skipSpace=function(){var t=this;t:for(;this.pos<this.input.length;){var e=t.input.charCodeAt(t.pos);switch(e){case 32:case 160:++t.pos;break;case 13:10===t.input.charCodeAt(t.pos+1)&&++t.pos;case 10:case 8232:case 8233:++t.pos,t.options.locations&&(++t.curLine,t.lineStart=t.pos);break;case 47:switch(t.input.charCodeAt(t.pos+1)){case 42:t.skipBlockComment();break;case 47:t.skipLineComment(2);break;default:break t}break;default:if(!(e>8&&14>e||e>=5760&&F.test(String.fromCharCode(e))))break t;++t.pos}}},nt.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var s=this.type;this.type=t,this.value=e,this.updateContext(s)},nt.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&57>=t)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===e?(this.pos+=3,this.finishToken(A.ellipsis)):(++this.pos,this.finishToken(A.dot))},nt.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(A.assign,2):this.finishOp(A.slash,1)},nt.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),s=1,i=42===t?A.star:A.modulo;return this.options.ecmaVersion>=7&&42===e&&(++s,i=A.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(A.assign,s+1):this.finishOp(i,s)},nt.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?this.finishOp(124===t?A.logicalOR:A.logicalAND,2):61===e?this.finishOp(A.assign,2):this.finishOp(124===t?A.bitwiseOR:A.bitwiseAND,1)},nt.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(A.assign,2):this.finishOp(A.bitwiseXOR,1)},nt.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45==e&&62==this.input.charCodeAt(this.pos+2)&&M.test(this.input.slice(this.lastTokEnd,this.pos))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(A.incDec,2):61===e?this.finishOp(A.assign,2):this.finishOp(A.plusMin,1)},nt.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),s=1;return e===t?(s=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+s)?this.finishOp(A.assign,s+1):this.finishOp(A.bitShift,s)):33==e&&60==t&&45==this.input.charCodeAt(this.pos+2)&&45==this.input.charCodeAt(this.pos+3)?(this.inModule&&this.unexpected(),this.skipLineComment(4),this.skipSpace(),this.nextToken()):(61===e&&(s=2),this.finishOp(A.relational,s))},nt.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(A.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(A.arrow)):this.finishOp(61===t?A.eq:A.prefix,1)},nt.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(A.parenL);case 41:return++this.pos,this.finishToken(A.parenR);case 59:return++this.pos,this.finishToken(A.semi);case 44:return++this.pos,this.finishToken(A.comma);case 91:return++this.pos,this.finishToken(A.bracketL);case 93:return++this.pos,this.finishToken(A.bracketR);case 123:return++this.pos,this.finishToken(A.braceL);case 125:return++this.pos,this.finishToken(A.braceR);case 58:return++this.pos,this.finishToken(A.colon);case 63:return++this.pos,this.finishToken(A.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(A.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 126:return this.finishOp(A.prefix,1)}this.raise(this.pos,"Unexpected character '"+m(t)+"'")},nt.finishOp=function(t,e){var s=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,s)};var ot=!!f("￿","u");nt.readRegexp=function(){for(var t,e,s=this,i=this.pos;;){s.pos>=s.input.length&&s.raise(i,"Unterminated regular expression");var n=s.input.charAt(s.pos);if(M.test(n)&&s.raise(i,"Unterminated regular expression"),t)t=!1;else{if("["===n)e=!0;else if("]"===n&&e)e=!1;else if("/"===n&&!e)break;t="\\"===n}++s.pos}var r=this.input.slice(i,this.pos);++this.pos;var o=this.readWord1(),a=r,p="";if(o){var h=/^[gim]*$/;this.options.ecmaVersion>=6&&(h=/^[gimuy]*$/),h.test(o)||this.raise(i,"Invalid regular expression flag"),o.indexOf("u")>=0&&(ot?p="u":(a=a.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(t,e,n){return e=Number("0x"+e),e>1114111&&s.raise(i+n+3,"Code point out of bounds"),"x"}),a=a.replace(/\\u([a-fA-F0-9]{4})|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"),p=p.replace("u","")))}var u=null;return rt||(f(a,p,i,this),u=f(r,o)),this.finishToken(A.regexp,{pattern:r,flags:o,value:u})},nt.readInt=function(t,e){for(var s=this,i=this.pos,n=0,r=0,o=null==e?1/0:e;o>r;++r){var a,p=s.input.charCodeAt(s.pos);if(a=p>=97?p-97+10:p>=65?p-65+10:p>=48&&57>=p?p-48:1/0,a>=t)break;++s.pos,n=n*t+a}return this.pos===i||null!=e&&this.pos-i!==e?null:n},nt.readRadixNumber=function(t){this.pos+=2;var e=this.readInt(t);return null==e&&this.raise(this.start+2,"Expected number in radix "+t),s(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(A.num,e)},nt.readNumber=function(t){var e=this.pos,i=!1,n=48===this.input.charCodeAt(this.pos);t||null!==this.readInt(10)||this.raise(e,"Invalid number");var r=this.input.charCodeAt(this.pos);46===r&&(++this.pos,this.readInt(10),i=!0,r=this.input.charCodeAt(this.pos)),(69===r||101===r)&&(r=this.input.charCodeAt(++this.pos),(43===r||45===r)&&++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number"),i=!0),s(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o,a=this.input.slice(e,this.pos);return i?o=parseFloat(a):n&&1!==a.length?/[89]/.test(a)||this.strict?this.raise(e,"Invalid number"):o=parseInt(a,8):o=parseInt(a,10),this.finishToken(A.num,o)},nt.readCodePoint=function(){var t,e=this.input.charCodeAt(this.pos);if(123===e){this.options.ecmaVersion<6&&this.unexpected();var s=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.raise(s,"Code point out of bounds")}else t=this.readHexChar(4);return t},nt.readString=function(t){for(var e=this,s="",i=++this.pos;;){e.pos>=e.input.length&&e.raise(e.start,"Unterminated string constant");var n=e.input.charCodeAt(e.pos);if(n===t)break;92===n?(s+=e.input.slice(i,e.pos),s+=e.readEscapedChar(!1),i=e.pos):(o(n)&&e.raise(e.start,"Unterminated string constant"),++e.pos)}return s+=this.input.slice(i,this.pos++),this.finishToken(A.string,s)},nt.readTmplToken=function(){for(var t=this,e="",s=this.pos;;){t.pos>=t.input.length&&t.raise(t.start,"Unterminated template");var i=t.input.charCodeAt(t.pos);if(96===i||36===i&&123===t.input.charCodeAt(t.pos+1))return t.pos===t.start&&t.type===A.template?36===i?(t.pos+=2,t.finishToken(A.dollarBraceL)):(++t.pos,t.finishToken(A.backQuote)):(e+=t.input.slice(s,t.pos),t.finishToken(A.template,e));if(92===i)e+=t.input.slice(s,t.pos),e+=t.readEscapedChar(!0),s=t.pos;else if(o(i)){switch(e+=t.input.slice(s,t.pos),++t.pos,i){case 13:10===t.input.charCodeAt(t.pos)&&++t.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(i)}t.options.locations&&(++t.curLine,t.lineStart=t.pos),s=t.pos}else++t.pos}},nt.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return m(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(e>=48&&55>=e){var s=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(s,8);return i>255&&(s=s.slice(0,-1),i=parseInt(s,8)),"0"!==s&&(this.strict||t)&&this.raise(this.pos-2,"Octal literal in strict mode"),this.pos+=s.length-1,String.fromCharCode(i)}return String.fromCharCode(e)}},nt.readHexChar=function(t){var e=this.pos,s=this.readInt(16,t);return null===s&&this.raise(e,"Bad character escape sequence"),s},nt.readWord1=function(){var t=this;this.containsEsc=!1;for(var e="",n=!0,r=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var a=t.fullCharCodeAtPos();if(i(a,o))t.pos+=65535>=a?1:2;else{if(92!==a)break;t.containsEsc=!0,e+=t.input.slice(r,t.pos);var p=t.pos;117!=t.input.charCodeAt(++t.pos)&&t.raise(t.pos,"Expecting Unicode escape sequence \\uXXXX"),++t.pos;var h=t.readCodePoint();(n?s:i)(h,o)||t.raise(p,"Invalid Unicode escape"),e+=m(h),r=t.pos}n=!1}return e+this.input.slice(r,this.pos)},nt.readWord=function(){var t=this.readWord1(),e=A.name;return(this.options.ecmaVersion>=6||!this.containsEsc)&&this.keywords.test(t)&&(e=I[t]),this.finishToken(e,t)};var at="3.3.0";t.version=at,t.parse=y,t.parseExpressionAt=g,t.tokenizer=x,t.Parser=G,t.plugins=H,t.defaultOptions=U,t.Position=D,t.SourceLocation=j,t.getLineInfo=h,t.Node=K,t.TokenType=L,t.tokTypes=A,t.TokContext=tt,t.tokContexts=et,t.isIdentifierChar=i,t.isIdentifierStart=s,t.Token=it,t.isNewLine=o,t.lineBreak=M,t.lineBreakG=R,Object.defineProperty(t,"__esModule",{value:!0})}),define("HintUtils",["require","exports","module","node_modules/acorn/dist/acorn"],function(t,e,s){"use strict";function i(t,e){return e=e||[],{value:t,positions:e}}function n(t){var e,s=!1;for(e=0;e<t.length&&(s=c.isIdentifierChar(t.charCodeAt(e)),s);e++);return s}function r(t){function e(t){return t.state&&("regexp"===t.state.lastType||t.state.localState&&"regexp"===t.state.localState.lastType)}switch(t.type){case"comment":case"number":case"regexp":case"string":case"def":return!1;case"string-2":return!e(t);default:return!0}}function o(t,e){return null===t||e&&"."===t||n(t)}function a(t){var e="brackets-js-hints";return t+"."+e}function p(t,e){return t.map(function(t){return t.literal=!0,t.kind=e,t.origin="ecmascript","string"===e&&(/[\\\\]*[^\\]"/.test(t.value)?t.delimiter=y:t.delimiter=g),t})}function h(t){return t.map(function(t){return t.keyword=!0,t.origin="ecmascript",t})}function u(t){return-1!==m.indexOf(t)}var c=t("node_modules/acorn/dist/acorn"),l="javascript",d="html",f="php",m=[l,d,f],y="'",g='"',x=["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","let","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield"],k=x.map(function(t){return i(t,[])}),v=h(k),b=["true","false","null"],T=b.map(function(t){return i(t,[])}),E=p(T);e.makeToken=i,e.hintable=r,e.hintableKey=o,e.maybeIdentifier=n,e.eventName=a,e.annotateLiterals=p,e.isSupportedLanguage=u,e.KEYWORDS=v,e.LITERALS=E,e.LANGUAGE_ID=l,e.SINGLE_QUOTE=y,e.DOUBLE_QUOTE=g,e.SUPPORTED_LANGUAGES=m}),define("MessageIds",["require","exports","module"],function(t,e,s){"use strict";var i="AddFiles",n="UpdateFile",r="Init",o="JumptoDef",a="Completions",p="GetFile",h="FunctionType",u="PrimePump",c="GetGuesses",l="WorkerReady",d="InferenceTimedOut",f="SetConfig",m="part",y="full",g="empty";e.TERN_ADD_FILES_MSG=i,e.TERN_JUMPTODEF_MSG=o,e.TERN_COMPLETIONS_MSG=a,e.TERN_INIT_MSG=r,e.TERN_GET_FILE_MSG=p,e.TERN_CALLED_FUNC_TYPE_MSG=h,e.TERN_PRIME_PUMP_MSG=u,e.TERN_GET_GUESSES_MSG=c,e.TERN_UPDATE_FILE_MSG=n,e.TERN_WORKER_READY=l,e.TERN_FILE_INFO_TYPE_PART=m,e.TERN_FILE_INFO_TYPE_FULL=y,e.TERN_FILE_INFO_TYPE_EMPTY=g,e.TERN_INFERENCE_TIMEDOUT=d,e.SET_CONFIG=f}),define("Preferences",["require","exports","module"],function(t,e,s){"use strict";function i(t,e,s){var i="";if(t instanceof Array&&t.length>0&&(e&&t.push("/"+e.source+"/"),t.forEach(function(t,e){if("string"==typeof t){var s="/"===t[0]&&"/"===t[t.length-1];s?t=t.substring(1,t.length-1):(t=r.regexEscape(t),t=t.replace("\\?",".?"),t=t.replace("\\*",".*"),t="^"+t+"$"),e>0&&(i+="|"),i=i.concat(t)}})),!i){var n=[];if(e&&n.push(e.source),s&&n.push(s.source),!(n.length>0))return null;i=n.join("|")}return new RegExp(i)}function n(t){var e=null,s=/node_modules/,n=/^require.*\.js$|^jquery.*\.js$/,r=100,o=524288;t?(this._excludedDirectories=i(t["excluded-directories"],e,s),this._excludedFiles=i(t["excluded-files"],n),this._maxFileCount=t["max-file-count"],this._maxFileSize=t["max-file-size"],(!this._maxFileCount||this._maxFileCount<0)&&(this._maxFileCount=r),(!this._maxFileSize||this._maxFileSize<0)&&(this._maxFileSize=o)):(this._excludedDirectories=s,this._excludedFiles=n,this._maxFileCount=r,this._maxFileSize=o)}var r=brackets.getModule("utils/StringUtils");n.FILE_NAME=".jscodehints",n.prototype.getExcludedDirectories=function(){return this._excludedDirectories},n.prototype.getExcludedFiles=function(){return this._excludedFiles},n.prototype.getMaxFileCount=function(){return this._maxFileCount},n.prototype.getMaxFileSize=function(){return this._maxFileSize},s.exports=n}),define("ScopeManager",["require","exports","module","HintUtils","MessageIds","Preferences"],function(t,e,s){"use strict";function i(){return at}function n(){function e(t){var e=JSON.parse(t);at.push(e["!name"]),rt.push(e)}t(["text!node_modules/tern/defs/ecmascript.json","text!node_modules/tern/defs/browser.json"],function(t,s){e(t),e(s)})}function r(t){dt&&"pending"===dt.state()&&dt.reject(),dt=$.Deferred();var e=Z.getProjectRoot();e?t=e.fullPath:t||console.log("initPreferences: projectRootPath has no value");var s=t+nt.FILE_NAME;Y.resolve(s,function(t,e){t?(lt=new nt,dt.resolve()):J.readAsText(e).done(function(t){var e=null;try{e=JSON.parse(t)}catch(i){console.log("Error parsing preference file: "+s),i instanceof SyntaxError&&console.log(i.message)}lt=new nt(e),dt.resolve()}).fail(function(t){lt=new nt,dt.resolve()})})}function o(){dt||r()}function a(t){ut&&ut.postMessage(t)}function p(t){var e=lt.getExcludedDirectories();if(!e)return!1;var s=Z.makeProjectRelativeIfPossible(t);return s=J.stripTrailingSlash(s),e.test(s)}function h(t){var e=z.getActiveEditor(),s=e&&e.document;return s&&s.file.fullPath===t}function u(t){var e=K.get("jscodehints.detectedExclusions")||[];return e&&-1!==e.indexOf(t)?!0:!1}function c(t){if("."===t.name[0])return!0;var e=Q.getLanguageForPath(t.fullPath).getId();if(e!==st.LANGUAGE_ID)return!0;var s=lt.getExcludedFiles();return s&&s.test(t.name)?!0:u(t.fullPath)?!0:!1}function l(t,e,s){var i,n,r=t+"@"+e.line+"@"+e.ch;return u(t)?(new $.Deferred).reject().promise():(G.has(ot,r)?i=ot[r]:(i={},ot[r]=i),G.has(i,s)?n=i[s]:i[s]=n=new $.Deferred,n.promise())}function d(t,e,s){var i=t+"@"+e.line+"@"+e.ch;if(G.has(ot,i)){var n=ot[i],r=n[s];return delete ot[i][s],Object.keys(n).length||delete ot[i],r}}function f(t){return ut.getResolvedPath(t)}function m(t,e){return a({type:it.TERN_JUMPTODEF_MSG,fileInfo:t,offset:e}),l(t.name,e,it.TERN_JUMPTODEF_MSG)}function y(t){var e=t;return t.length>lt.getMaxFileSize()&&(e=""),e}function g(t){var e=t.getText();return e=y(e)}function x(t,e,s){var i=e.file.fullPath,n={type:it.TERN_FILE_INFO_TYPE_FULL,name:i,offsetLines:0,text:y(t.getJavascriptText())},r=m(n,s);return{promise:r}}function k(t){var e=t.file,s=t.offset,i=d(e,s,it.TERN_JUMPTODEF_MSG);i&&(t.fullPath=f(t.resultFile),i.resolveWith(null,[t]))}function v(t,e,s){return a({type:it.TERN_COMPLETIONS_MSG,fileInfo:t,offset:e,isProperty:s}),l(t.name,e,it.TERN_COMPLETIONS_MSG)}function b(t,e){return a({type:it.TERN_CALLED_FUNC_TYPE_MSG,fileInfo:t,offset:e}),l(t.name,e,it.TERN_CALLED_FUNC_TYPE_MSG)}function T(t,e){var s,i,n,r,o,a=null,p=null,h=t.editor._codeMirror,u=h.getOption("tabSize"),c=t.editor.document;for(i=e.line-1,n=Math.max(0,i-100);i>=n;--i){o=t.getLine(i);var l=o.search(/\bfunction\b/);l>=0&&(r=V.countColumn(o,null,u),(null===a||a>r)&&"keyword"===t.getToken({line:i,
ch:l+1}).type&&(a=r,p=i))}null===a&&(a=0),null===p&&(p=n);var d=Math.min(h.lastLine(),e.line+100),f=0;for(s=e.line+1;d>s;++s)if(o=h.getLine(s),o.length>0&&(r=V.countColumn(o,null,u),a>=r)){f=o.length;break}var m={line:p,ch:0},y={line:s,ch:f};return{type:it.TERN_FILE_INFO_TYPE_PART,name:c.file.fullPath,offsetLines:m.line,text:c.getRange(m,y)}}function E(t,e){var s,i=t.getCursor(),n=i,r=t.editor.document,o=r.file.fullPath,a="html"===Q.getLanguageForPath(o).getId();return s=a?{type:it.TERN_FILE_INFO_TYPE_FULL,name:o,text:t.getJavascriptText()}:ct?!e&&t.editor.lineCount()>yt&&ct.to-ct.from<mt&&ct.from<=i.line&&ct.to>n.line?T(t,i):{type:it.TERN_FILE_INFO_TYPE_FULL,name:o,text:g(r)}:{type:it.TERN_FILE_INFO_TYPE_EMPTY,name:o,text:""},ct=null,s}function S(t,e,s){var i;return i=s?{line:s.line,ch:s.ch}:t.getCursor(),e.type===it.TERN_FILE_INFO_TYPE_PART&&(i.line=Math.max(0,i.line-e.offsetLines)),i}function _(t,e){var s=$.Deferred(),i=E(t),n=S(t,i);a({type:it.TERN_GET_GUESSES_MSG,fileInfo:i,offset:n});var r=l(i.name,n,it.TERN_GET_GUESSES_MSG);return r.done(function(e){t.setGuesses(e),s.resolve()}).fail(function(){s.reject()}),s.promise()}function C(t){var e=t.file,s=t.offset,i=t.completions,n=t.properties,r=t.fnType,o=t.type,a=t.error,p=d(e,s,o);p&&(a?p.reject():i?p.resolveWith(null,[{completions:i}]):n?p.resolveWith(null,[{properties:n}]):r&&p.resolveWith(null,[r]))}function N(t){var e=t.file,s=t.type,i=t.offset,n=d(e,i,s);n&&n.resolveWith(null,[t.properties])}function L(t){var e=t.path,s=t.type,i=d(e,gt,s);i&&i.resolve()}function w(t){var e=K.get("jscodehints.detectedExclusions")||[],s=t.file;if(!h(s)){if(-1!==e.indexOf(s))return void console.log("JavaScriptCodeHints.handleTimedOut: file already in detectedExclusions array timed out: "+s);e.push(s),K.set("jscodehints.detectedExclusions",e,{location:{scope:"project"}}),q.showModalDialog(B.DIALOG_ID_INFO,tt.DETECTED_EXCLUSION_TITLE,et.format(tt.DETECTED_EXCLUSION_INFO,et.breakableUrl(s)),[{className:q.DIALOG_BTN_CLASS_PRIMARY,id:q.DIALOG_BTN_OK,text:tt.OK}])}}function P(){function t(t){return O[t]}function e(){return D!==j}function i(t){A.done(function(e){e&&(xt.debug&&console.debug("Sending message",t),e.postMessage(t))})}function n(t){I.done(function(e){xt.debug&&console.debug("Sending message",t),e.postMessage(t)})}function r(t){var e=t.file.fullPath;return n({type:it.TERN_UPDATE_FILE_MSG,path:e,text:g(t)}),l(e,gt,it.TERN_UPDATE_FILE_MSG)}function a(t){function e(t,e){n({type:it.TERN_GET_FILE_MSG,file:t,text:e})}function s(t){if(!Y.isAbsolutePath(t)||"//"===t.slice(0,2))return(new $.Deferred).reject().promise();var s=Y.getFileForPath(t),i=W.getDocumentText(s);return i.done(function(s){O[r]=t,j++,e(r,y(s))}),i}function i(){function t(t){return t.name===i}var i=r.substring(r.lastIndexOf("/")+1);Z.getAllFiles(t).done(function(t){var i;t=t.filter(function(t){var e=t.fullPath.length-r.length;return e===t.fullPath.lastIndexOf(r)}),1===t.length&&(i=t[0]),i?s(i.fullPath).fail(function(){e(r,"")}):e(r,"")})}var r=t.file;u(r)||s(r).fail(function(){s(M+r).fail(function(){s(R+r).fail(i)})})}function h(t){return n({type:it.TERN_PRIME_PUMP_MSG,path:t}),l(t,gt,it.TERN_PRIME_PUMP_MSG)}function f(t){var e=t.path,s=t.type,i=d(e,gt,s);i&&i.resolve()}function m(t){var e=lt.getMaxFileCount();if(e>j+U){var s=e-j-U;s<t.length&&(t=t.slice(0,s)),U+=t.length,I.done(function(e){var s={type:it.TERN_ADD_FILES_MSG,files:t};xt.debug&&console.debug("Sending message",s),e.postMessage(s)})}else F=!0;return F}function x(t,e){Y.resolve(t,function(s,i){function n(t){return t.isFile?void(c(t)||m([t.fullPath])):!p(t.fullPath)&&0!==t.name.indexOf(".")&&!F}if(!s)return t===Y.getDirectoryForPath(M)?void e():void i.visit(n,e)})}function v(){H&&H.terminate();var t=$.Deferred();I=t.promise();var e=X.getModulePath(s,"tern-worker.js");H=new Worker(e),H.addEventListener("message",function(e){xt.debug&&console.debug("Message received",e);var s=e.data,i=s.type;i===it.TERN_COMPLETIONS_MSG||i===it.TERN_CALLED_FUNC_TYPE_MSG?C(s):i===it.TERN_GET_FILE_MSG?a(s):i===it.TERN_JUMPTODEF_MSG?k(s):i===it.TERN_PRIME_PUMP_MSG?f(s):i===it.TERN_GET_GUESSES_MSG?N(s):i===it.TERN_UPDATE_FILE_MSG?L(s):i===it.TERN_INFERENCE_TIMEDOUT?w(s):i===it.TERN_WORKER_READY?t.resolveWith(null,[H]):console.log("Worker: "+(s.log||s))}),H.postMessage({type:it.SET_CONFIG,config:xt})}function b(t,e){v(),j=0,U=0,F=!1,D=e.length,I.done(function(s){var i={type:it.TERN_INIT_MSG,dir:t,files:e,env:rt,timeout:K.get("jscodehints.inferenceTimeout")};s?(xt.debug&&console.debug("Sending message",i),s.postMessage(i)):xt.debug&&console.debug("Worker null. Cannot send message",i)}),M=t+"/"}function T(t){return void 0!==O[t]}function E(t,s,i){var n,a=s.file,p=a.fullPath,u=a.parentPath,l=$.Deferred();if(ct=null,A=l.promise(),n=Z.getProjectRoot()?Z.getProjectRoot().fullPath:null,T(p)){if(pt&&i){var d=r(i);d.done(function(){h(p),l.resolveWith(null,[H])})}else l.resolveWith(null,[H]);return void(pt=!1)}pt=!1,O={},R=n,o(),dt.done(function(){Y.resolve(u,function(t,s){return t?(console.error("Error resolving",u),void l.resolveWith(null)):void s.getContents(function(t,i){if(t)return console.error("Error getting contents for",s),void l.resolveWith(null);var n=i.filter(function(t){return t.isFile&&!c(t)}).map(function(t){return t.fullPath});b(u,n);var r=h(p);r.done(function(){e()?l.resolveWith(null,[H]):x(u,function(){var t=u+"/";R&&t!==R&&0===t.indexOf(R)?x(R,function(){h(p),l.resolveWith(null,[H])}):l.resolveWith(null,[H])})})})})})}function S(t,e,s){null===A?E(t,e,s):A.done(function(){E(t,e,s)})}function _(){function t(){var t=H;t&&(setTimeout(function(){t.terminate(),t=null},1e3),H=null,O={})}H&&(A?A.done(t).fail(t):t())}function P(t){A.done(t)}var I=null,A=null,M=null,R=null,F=!1,O={},D=0,j=0,U=0,H=null;return this.closeWorker=_,this.handleEditorChange=S,this.postMessage=i,this.getResolvedPath=t,this.whenReady=P,this}function I(t,e,s){var i;if(!kt){if(!(s||!xt.noReset&&++ht>ft)){var n=new $.Deferred;return n.resolve(ut),n.promise()}xt.debug&&console.debug("Resetting tern worker"),kt=new $.Deferred,i=new P,i.handleEditorChange(t,e,null),i.whenReady(function(){ut.closeWorker(),ut=i,kt.resolve(ut),kt=null}),ht=0}return kt.promise()}function A(t,e){var s=$.Deferred(),i=E(t,!0),n=S(t,i,e),r=b(i,n);return $.when(r).done(function(i){t.setFnType(i),t.setFunctionCallPos(e),s.resolveWith(null,[i])}).fail(function(){s.reject()}),s.promise()}function M(t,e){var s,i=$.Deferred(),n=t.getType(),r=E(t),o=S(t,r,null);return I(t,e),s=v(r,o,n.property),$.when(s).done(function(e,s){e.completions?(t.setTernHints(e.completions),t.setGuesses(null)):(t.setTernHints([]),t.setGuesses(e.properties)),i.resolveWith(null)}).fail(function(){i.reject()}),i.promise()}function R(t){var e,s=ct;for(null===s&&(ct=s={from:t[0].from.line,to:t[0].from.line},xt.debug&&console.debug("ScopeManager: document has changed")),e=0;e<t.length;e++){var i=t[e],n=i.from.line+(i.text.length-1);i.from.line<s.to&&(s.to=s.to-(i.to.line-n)),n>=s.to&&(s.to=n+1),s.from>i.from.line&&(s.from=i.from.line)}}function F(t){pt=!0,R(t)}function O(t,e,s){return ut||(ut=new P),ut.handleEditorChange(t,e,s)}function D(){ut&&(ut.closeWorker(),ut=null)}function j(t){r(t)}function U(){return dt}function H(t){xt=brackets._configureJSCodeHints.config,a({type:it.SET_CONFIG,config:t})}var G=brackets.getModule("thirdparty/lodash"),V=brackets.getModule("thirdparty/CodeMirror/lib/codemirror"),B=brackets.getModule("widgets/DefaultDialogs"),q=brackets.getModule("widgets/Dialogs"),W=brackets.getModule("document/DocumentManager"),z=brackets.getModule("editor/EditorManager"),X=brackets.getModule("utils/ExtensionUtils"),Y=brackets.getModule("filesystem/FileSystem"),J=brackets.getModule("file/FileUtils"),Q=brackets.getModule("language/LanguageManager"),K=brackets.getModule("preferences/PreferencesManager"),Z=brackets.getModule("project/ProjectManager"),tt=brackets.getModule("strings"),et=brackets.getModule("utils/StringUtils"),st=t("HintUtils"),it=t("MessageIds"),nt=t("Preferences"),rt=[],ot={},at=[],pt=!1,ht=0,ut=null,ct=null,lt=null,dt=null,ft=30,mt=100,yt=1e4,gt={line:0,ch:0},xt={};n();var kt=null;e._setConfig=H,e._maybeReset=I,e.getBuiltins=i,e.getResolvedPath=f,e.getTernHints=v,e.handleEditorChange=O,e.requestGuesses=_,e.handleFileChange=F,e.requestHints=M,e.requestJumptoDef=x,e.requestParameterHint=A,e.handleProjectClose=D,e.handleProjectOpen=j,e._readyPromise=U}),define("text",["module"],function(t){"use strict";var e,s,i,n,r,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,p=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,h="undefined"!=typeof location&&location.href,u=h&&location.protocol&&location.protocol.replace(/\:/,""),c=h&&location.hostname,l=h&&(location.port||void 0),d={},f=t.config&&t.config()||{};return e={version:"2.0.10",strip:function(t){if(t){t=t.replace(a,"");var e=t.match(p);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var t,e,s;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;3>e;e+=1){s=o[e];try{t=new ActiveXObject(s)}catch(i){}if(t){o=[s];break}}return t},parseName:function(t){var e,s,i,n=!1,r=t.indexOf("."),o=0===t.indexOf("./")||0===t.indexOf("../");return-1!==r&&(!o||r>1)?(e=t.substring(0,r),s=t.substring(r+1,t.length)):e=t,i=s||e,r=i.indexOf("!"),-1!==r&&(n="strip"===i.substring(r+1),i=i.substring(0,r),s?s=i:e=i),{moduleName:e,ext:s,strip:n}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,s,i,n){var r,o,a,p=e.xdRegExp.exec(t);return p?(r=p[2],o=p[3],o=o.split(":"),a=o[1],o=o[0],!(r&&r!==s||o&&o.toLowerCase()!==i.toLowerCase()||(a||o)&&a!==n)):!0},finishLoad:function(t,s,i,n){i=s?e.strip(i):i,f.isBuild&&(d[t]=i),n(i)},load:function(t,s,i,n){if(n.isBuild&&!n.inlineText)return void i();f.isBuild=n.isBuild;var r=e.parseName(t),o=r.moduleName+(r.ext?"."+r.ext:""),a=s.toUrl(o),p=f.useXhr||e.useXhr;return 0===a.indexOf("empty:")?void i():void(!h||p(a,u,c,l)?e.get(a,function(s){e.finishLoad(t,r.strip,s,i)},function(t){i.error&&i.error(t)}):s([o],function(t){e.finishLoad(r.moduleName+"."+r.ext,r.strip,t,i)}))},write:function(t,s,i,n){if(d.hasOwnProperty(s)){var r=e.jsEscape(d[s]);i.asModule(t+"!"+s,"define(function () { return '"+r+"';});\n")}},writeFile:function(t,s,i,n,r){var o=e.parseName(s),a=o.ext?"."+o.ext:"",p=o.moduleName+a,h=i.toUrl(o.moduleName+a)+".js";e.load(p,i,function(s){var i=function(t){return n(h,t)};i.asModule=function(t,e){return n.asModule(t,h,e)},e.write(t,p,i,r)},r)}},"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(s=require.nodeRequire("fs"),e.get=function(t,e,i){try{var n=s.readFileSync(t,"utf8");0===n.indexOf("\ufeff")&&(n=n.substring(1)),e(n)}catch(r){i(r)}}):"xhr"===f.env||!f.env&&e.createXhr()?e.get=function(t,s,i,n){var r,o=e.createXhr();if(o.open("GET",t,!0),n)for(r in n)n.hasOwnProperty(r)&&o.setRequestHeader(r.toLowerCase(),n[r]);f.onXhr&&f.onXhr(o,t),o.onreadystatechange=function(e){var n,r;4===o.readyState&&(n=o.status,n>399&&600>n?(r=new Error(t+" HTTP status: "+n),r.xhr=o,i(r)):s(o.responseText),f.onXhrComplete&&f.onXhrComplete(o,t))},o.send(null)}:"rhino"===f.env||!f.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?e.get=function(t,e){var s,i,n="utf-8",r=new java.io.File(t),o=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),n)),p="";try{for(s=new java.lang.StringBuffer,i=a.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&s.append(i);null!==(i=a.readLine());)s.append(o),s.append(i);p=String(s.toString())}finally{a.close()}e(p)}:("xpconnect"===f.env||!f.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,n=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),r="@mozilla.org/windows-registry-key;1"in i,e.get=function(t,e){var s,o,a,p={};r&&(t=t.replace(/\//g,"\\")),a=new FileUtils.File(t);try{s=i["@mozilla.org/network/file-input-stream;1"].createInstance(n.nsIFileInputStream),s.init(a,1,0,!1),o=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(n.nsIConverterInputStream),o.init(s,"utf-8",s.available(),n.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(s.available(),p),o.close(),s.close(),e(p.value)}catch(h){throw new Error((a&&a.path||"")+": "+h)}}),e}),define("text!ParameterHintTemplate.html",[],function(){return'<div id="function-hint-container">\n    <div class="function-hint-content">\n    </div>\n</div>\n'}),define("text!keyboard.json",[],function(){return'{\n    "showParameterHint":  [\n        {\n            "key": "Ctrl-Shift-Space"\n        },\n        {\n            "key": "Ctrl-Shift-Space",\n            "platform": "mac"\n        }\n    ]\n}'}),define("ParameterHintManager",["require","exports","module","HintUtils2","ScopeManager","text!ParameterHintTemplate.html","text!keyboard.json"],function(t,e,s){"use strict";function i(t){E=t}function n(){return j.visible===!0}function r(t,e,s){var i,n=v.width(),r=v.height(),o=e-r-H,a=t,p=$("#editor-holder");void 0!==p.offset()&&(i=p.offset().left,a=Math.max(a,i),a=Math.min(a,i+p.width()-n),0>o?(v.removeClass("preview-bubble-above"),v.addClass("preview-bubble-below"),o=s+G,v.offset({left:a,top:o})):(v.removeClass("preview-bubble-below"),v.addClass("preview-bubble-above"),v.offset({left:a,top:o-H})))}function o(t){function e(t){b.append(t)}function s(t,e){i.currentIndex===e?b.append($("<span>").append(_.escape(t)).addClass("current-parameter")):b.append(_.escape(t))}var i=E.getParameterHint(t.functionCallPos);b.empty(),b.addClass("brackets-js-hints"),i.parameters.length>0?I.formatParameterHint(i.parameters,e,s):b.append(_.escape(P.NO_ARGUMENTS))}function a(){U.push(j)}function p(){return U.length>0?(j=U.pop(),j.visible=!1,!0):!1}function h(){U=[]}function u(t){var e=j.functionCallPos;return void 0===e||e.line!==t.line||e.ch!==t.ch}function c(){j.visible&&(v.hide(),b.empty(),j={},E.editor.off("cursorActivity",S),T||h())}function l(t,e,s){if(s=s||E.getFunctionInfo(),!s.inFunctionCall)return c(),null;if(u(s.functionCallPos)){var i=t&&n();i&&(a(),T=!0),c(),T=!1}else if(n())return null;j.functionCallPos=s.functionCallPos;var p=null,h=$.Deferred();return e?(E.setFnType(e),p=$.Deferred(),p.resolveWith(null,[e]),h.resolveWith(null)):p=A.requestParameterHint(E,s.functionCallPos),p.done(function(t){var e=E.editor._codeMirror,i=e.charCoords(s.functionCallPos);o(s),v.show(),r(i.left,i.top,i.bottom),j.visible=!0,j.fnType=t,E.editor.on("cursorActivity",S),h.resolveWith(null)}).fail(function(){j={}}),h}function d(){var t=E.getFunctionInfo();if(t.inFunctionCall){var e=E.getToken();if(e&&"("===e.string)return l()}else c();return null}function f(t){t.editor.on("cursorActivity",S)}function m(t){t.editor.off("cursorActivity",S)}function y(){l()}function g(t){t.on("keydown.ParameterHints",function(t,e,s){s.keyCode===L.DOM_VK_ESCAPE&&c()}).on("scroll.ParameterHints",function(){c()})}function x(t){t.off(".ParameterHints")}function k(){N.register(P.CMD_SHOW_PARAMETER_HINT,M,y);var t=w.getMenu(w.AppMenuBar.EDIT_MENU);t&&t.addMenuItem(M,D.showParameterHint,w.AFTER,C.SHOW_CODE_HINTS),N.on("beforeExecuteCommand",function(t,e){e!==M&&e!==C.SHOW_CODE_HINTS&&c()})}var v,b,T,E,S,_=brackets.getModule("thirdparty/lodash"),C=brackets.getModule("command/Commands"),N=brackets.getModule("command/CommandManager"),L=brackets.getModule("utils/KeyEvent"),w=brackets.getModule("command/Menus"),P=brackets.getModule("strings"),I=t("HintUtils2"),A=t("ScopeManager"),M="showParameterHint",R=!0,F=!1,O=t("text!ParameterHintTemplate.html"),D=JSON.parse(t("text!keyboard.json")),j={},U=[],H=4,G=4;S=function(){var t=E.getFunctionInfo();if(t.inFunctionCall){if(u(t.functionCallPos))if(p()){var e=j.functionCallPos,s=t.functionCallPos;if(e.line===s.line&&e.ch===s.ch)return T=!0,l(F,j.fnType,t),void(T=!1)}else c();return void o(t)}c()},v=$(O).appendTo($("body")),b=v.find(".function-hint-content"),e.PUSH_EXISTING_HINT=R,e.addCommands=k,e.dismissHint=c,e.installListeners=g,e.uninstallListeners=x,e.isHintDisplayed=n,e.popUpHint=l,e.popUpHintAtOpenParen=d,e.setSession=i,e.startCursorTracking=f,e.stopCursorTracking=m}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("./acorn")):"function"==typeof define&&define.amd?define("node_modules/acorn/dist/acorn_loose",["exports","./acorn"],e):e((t.acorn=t.acorn||{},t.acorn.loose=t.acorn.loose||{}),t.acorn)}(this,function(t,e){"use strict";function s(t){return 14>t&&t>8||32===t||160===t||e.isNewLine(t)}function i(t){return"✖"==t.name}function n(t,e){var s=new a(t,e);return s.next(),s.parseTopLevel()}var r="default"in e?e["default"]:e,o={},a=function(t,s){if(void 0===s&&(s={}),this.toks=e.tokenizer(t,s),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:e.tokTypes.eof,start:0,end:0},this.options.locations){var i=this.toks.curPosition();this.tok.loc=new e.SourceLocation(this.toks,i,i)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.options.pluginsLoose=s.pluginsLoose||{},this.loadPlugins(this.options.pluginsLoose)};a.prototype.startNode=function(){return new e.Node(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)},a.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},a.prototype.startNodeAt=function(t){return this.options.locations?new e.Node(this.toks,t[0],t[1]):new e.Node(this.toks,t)},a.prototype.finishNode=function(t,e){return t.type=e,t.end=this.last.end,this.options.locations&&(t.loc.end=this.last.loc.end),this.options.ranges&&(t.range[1]=this.last.end),t},a.prototype.dummyNode=function(t){var s=this.startNode();return s.type=t,s.end=s.start,this.options.locations&&(s.loc.end=s.loc.start),this.options.ranges&&(s.range[1]=s.start),this.last={type:e.tokTypes.name,start:s.start,end:s.start,loc:s.loc},s},a.prototype.dummyIdent=function(){var t=this.dummyNode("Identifier");return t.name="✖",t},a.prototype.dummyString=function(){var t=this.dummyNode("Literal");return t.value=t.raw="✖",t},a.prototype.eat=function(t){return this.tok.type===t?(this.next(),!0):!1},a.prototype.isContextual=function(t){return this.tok.type===e.tokTypes.name&&this.tok.value===t},a.prototype.eatContextual=function(t){return this.tok.value===t&&this.eat(e.tokTypes.name)},a.prototype.canInsertSemicolon=function(){return this.tok.type===e.tokTypes.eof||this.tok.type===e.tokTypes.braceR||e.lineBreak.test(this.input.slice(this.last.end,this.tok.start))},a.prototype.semicolon=function(){return this.eat(e.tokTypes.semi)},a.prototype.expect=function(t){var e=this;if(this.eat(t))return!0;for(var s=1;2>=s;s++)if(e.lookAhead(s).type==t){for(var i=0;s>i;i++)e.next();return!0}},a.prototype.pushCx=function(){this.context.push(this.curIndent)},a.prototype.popCx=function(){this.curIndent=this.context.pop()},a.prototype.lineEnd=function(t){for(;t<this.input.length&&!e.isNewLine(this.input.charCodeAt(t));)++t;return t},a.prototype.indentationAfter=function(t){for(var e=this,s=0;;++t){var i=e.input.charCodeAt(t);if(32===i)++s;else{if(9!==i)return s;s+=e.options.tabSize}}},a.prototype.closes=function(t,s,i,n){return this.tok.type===t||this.tok.type===e.tokTypes.eof?!0:i!=this.curLineStart&&this.curIndent<s&&this.tokenStartsLine()&&(!n||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<s)},a.prototype.tokenStartsLine=function(){for(var t=this,e=this.tok.start-1;e>=this.curLineStart;--e){var s=t.input.charCodeAt(e);if(9!==s&&32!==s)return!1}return!0},a.prototype.extend=function(t,e){this[t]=e(this[t])},a.prototype.loadPlugins=function(t){var e=this;for(var s in t){var i=o[s];if(!i)throw new Error("Plugin '"+s+"' not found");i(e,t[s])}};var p=a.prototype;p.next=function(){var t=this;if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)t.curLineStart=t.nextLineStart,t.nextLineStart=t.lineEnd(t.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},p.readToken=function(){for(var t=this;;)try{return t.toks.next(),t.toks.type===e.tokTypes.dot&&"."===t.input.substr(t.toks.end,1)&&t.options.ecmaVersion>=6&&(t.toks.end++,t.toks.type=e.tokTypes.ellipsis),new e.Token(t.toks)}catch(i){if(!(i instanceof SyntaxError))throw i;var n=i.message,r=i.raisedAt,o=!0;if(/unterminated/i.test(n))if(r=t.lineEnd(i.pos+1),/string/.test(n))o={start:i.pos,end:r,type:e.tokTypes.string,value:t.input.slice(i.pos+1,r)};else if(/regular expr/i.test(n)){var a=t.input.slice(i.pos,r);try{a=new RegExp(a)}catch(i){}o={start:i.pos,end:r,type:e.tokTypes.regexp,value:a}}else o=/template/.test(n)?{start:i.pos,end:r,type:e.tokTypes.template,value:t.input.slice(i.pos,r)}:!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(n))for(;r<this.input.length&&!s(this.input.charCodeAt(r));)++r;else if(/character escape|expected hexadecimal/i.test(n))for(;r<this.input.length;){var p=t.input.charCodeAt(r++);if(34===p||39===p||e.isNewLine(p))break}else if(/unexpected character/i.test(n))r++,o=!1;else{if(!/regular expression/i.test(n))throw i;o=!0}if(t.resetTo(r),o===!0&&(o={start:r,end:r,type:e.tokTypes.name,value:"✖"}),o)return t.options.locations&&(o.loc=new e.SourceLocation(t.toks,e.getLineInfo(t.input,o.start),e.getLineInfo(t.input,o.end))),o}},p.resetTo=function(t){var s=this;this.toks.pos=t;var i=this.input.charAt(t-1);if(this.toks.exprAllowed=!i||/[\[\{\(,;:?\/*=+\-~!|&%^<>]/.test(i)||/[enwfd]/.test(i)&&/\b(keywords|case|else|return|throw|new|in|(instance|type)of|delete|void)$/.test(this.input.slice(t-10,t)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=e.lineBreakG.lastIndex=0;for(var n;(n=e.lineBreakG.exec(this.input))&&n.index<t;)++s.toks.curLine,s.toks.lineStart=n.index+n[0].length}},p.lookAhead=function(t){for(var e=this;t>this.ahead.length;)e.ahead.push(e.readToken());return this.ahead[t-1]};var h=a.prototype;h.parseTopLevel=function(){var t=this,s=this.startNodeAt(this.options.locations?[0,e.getLineInfo(this.input,0)]:0);for(s.body=[];this.tok.type!==e.tokTypes.eof;)s.body.push(t.parseStatement());return this.last=this.tok,this.options.ecmaVersion>=6&&(s.sourceType=this.options.sourceType),this.finishNode(s,"Program")},h.parseStatement=function(){var t,s=this,n=this.tok.type,r=this.startNode();switch(this.toks.isLet()&&(n=e.tokTypes._var,t="let"),n){case e.tokTypes._break:case e.tokTypes._continue:this.next();var o=n===e.tokTypes._break;return this.semicolon()||this.canInsertSemicolon()?r.label=null:(r.label=this.tok.type===e.tokTypes.name?this.parseIdent():null,this.semicolon()),this.finishNode(r,o?"BreakStatement":"ContinueStatement");case e.tokTypes._debugger:return this.next(),this.semicolon(),this.finishNode(r,"DebuggerStatement");case e.tokTypes._do:return this.next(),r.body=this.parseStatement(),r.test=this.eat(e.tokTypes._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(r,"DoWhileStatement");case e.tokTypes._for:if(this.next(),this.pushCx(),this.expect(e.tokTypes.parenL),this.tok.type===e.tokTypes.semi)return this.parseFor(r,null);var a=this.toks.isLet();if(a||this.tok.type===e.tokTypes._var||this.tok.type===e.tokTypes._const){var p=this.parseVar(!0,a?"let":this.tok.value);return 1!==p.declarations.length||this.tok.type!==e.tokTypes._in&&!this.isContextual("of")?this.parseFor(r,p):this.parseForIn(r,p)}var h=this.parseExpression(!0);return this.tok.type===e.tokTypes._in||this.isContextual("of")?this.parseForIn(r,this.toAssignable(h)):this.parseFor(r,h);case e.tokTypes._function:return this.next(),this.parseFunction(r,!0);case e.tokTypes._if:return this.next(),r.test=this.parseParenExpression(),r.consequent=this.parseStatement(),r.alternate=this.eat(e.tokTypes._else)?this.parseStatement():null,this.finishNode(r,"IfStatement");case e.tokTypes._return:return this.next(),this.eat(e.tokTypes.semi)||this.canInsertSemicolon()?r.argument=null:(r.argument=this.parseExpression(),this.semicolon()),this.finishNode(r,"ReturnStatement");case e.tokTypes._switch:var u=this.curIndent,c=this.curLineStart;this.next(),r.discriminant=this.parseParenExpression(),r.cases=[],this.pushCx(),this.expect(e.tokTypes.braceL);for(var l;!this.closes(e.tokTypes.braceR,u,c,!0);)if(s.tok.type===e.tokTypes._case||s.tok.type===e.tokTypes._default){var d=s.tok.type===e.tokTypes._case;l&&s.finishNode(l,"SwitchCase"),r.cases.push(l=s.startNode()),l.consequent=[],s.next(),d?l.test=s.parseExpression():l.test=null,s.expect(e.tokTypes.colon)}else l||(r.cases.push(l=s.startNode()),l.consequent=[],l.test=null),l.consequent.push(s.parseStatement());return l&&this.finishNode(l,"SwitchCase"),this.popCx(),this.eat(e.tokTypes.braceR),this.finishNode(r,"SwitchStatement");case e.tokTypes._throw:return this.next(),r.argument=this.parseExpression(),this.semicolon(),this.finishNode(r,"ThrowStatement");case e.tokTypes._try:if(this.next(),r.block=this.parseBlock(),r.handler=null,this.tok.type===e.tokTypes._catch){var f=this.startNode();this.next(),this.expect(e.tokTypes.parenL),f.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(e.tokTypes.parenR),f.body=this.parseBlock(),r.handler=this.finishNode(f,"CatchClause")}return r.finalizer=this.eat(e.tokTypes._finally)?this.parseBlock():null,r.handler||r.finalizer?this.finishNode(r,"TryStatement"):r.block;case e.tokTypes._var:case e.tokTypes._const:return this.parseVar(!1,t||this.tok.value);case e.tokTypes._while:return this.next(),r.test=this.parseParenExpression(),r.body=this.parseStatement(),this.finishNode(r,"WhileStatement");case e.tokTypes._with:return this.next(),r.object=this.parseParenExpression(),r.body=this.parseStatement(),this.finishNode(r,"WithStatement");case e.tokTypes.braceL:return this.parseBlock();case e.tokTypes.semi:return this.next(),this.finishNode(r,"EmptyStatement");case e.tokTypes._class:return this.parseClass(!0);case e.tokTypes._import:return this.parseImport();case e.tokTypes._export:return this.parseExport();default:var m=this.parseExpression();return i(m)?(this.next(),this.tok.type===e.tokTypes.eof?this.finishNode(r,"EmptyStatement"):this.parseStatement()):n===e.tokTypes.name&&"Identifier"===m.type&&this.eat(e.tokTypes.colon)?(r.body=this.parseStatement(),r.label=m,this.finishNode(r,"LabeledStatement")):(r.expression=m,this.semicolon(),this.finishNode(r,"ExpressionStatement"))}},h.parseBlock=function(){var t=this,s=this.startNode();this.pushCx(),this.expect(e.tokTypes.braceL);var i=this.curIndent,n=this.curLineStart;for(s.body=[];!this.closes(e.tokTypes.braceR,i,n,!0);)s.body.push(t.parseStatement());return this.popCx(),this.eat(e.tokTypes.braceR),this.finishNode(s,"BlockStatement")},h.parseFor=function(t,s){return t.init=s,t.test=t.update=null,this.eat(e.tokTypes.semi)&&this.tok.type!==e.tokTypes.semi&&(t.test=this.parseExpression()),this.eat(e.tokTypes.semi)&&this.tok.type!==e.tokTypes.parenR&&(t.update=this.parseExpression()),this.popCx(),this.expect(e.tokTypes.parenR),t.body=this.parseStatement(),this.finishNode(t,"ForStatement")},h.parseForIn=function(t,s){var i=this.tok.type===e.tokTypes._in?"ForInStatement":"ForOfStatement";return this.next(),t.left=s,t.right=this.parseExpression(),this.popCx(),this.expect(e.tokTypes.parenR),t.body=this.parseStatement(),this.finishNode(t,i)},h.parseVar=function(t,s){var i=this,n=this.startNode();n.kind=s,this.next(),n.declarations=[];do{var r=i.startNode();r.id=i.options.ecmaVersion>=6?i.toAssignable(i.parseExprAtom(),!0):i.parseIdent(),r.init=i.eat(e.tokTypes.eq)?i.parseMaybeAssign(t):null,n.declarations.push(i.finishNode(r,"VariableDeclarator"))}while(this.eat(e.tokTypes.comma));if(!n.declarations.length){var o=this.startNode();o.id=this.dummyIdent(),n.declarations.push(this.finishNode(o,"VariableDeclarator"))}return t||this.semicolon(),this.finishNode(n,"VariableDeclaration")},h.parseClass=function(t){var s=this,n=this.startNode();this.next(),this.tok.type===e.tokTypes.name?n.id=this.parseIdent():t?n.id=this.dummyIdent():n.id=null,n.superClass=this.eat(e.tokTypes._extends)?this.parseExpression():null,n.body=this.startNode(),n.body.body=[],this.pushCx();var r=this.curIndent+1,o=this.curLineStart;for(this.eat(e.tokTypes.braceL),this.curIndent+1<r&&(r=this.curIndent,o=this.curLineStart);!this.closes(e.tokTypes.braceR,r,o);)if(!s.semicolon()){var a,p=s.startNode();s.options.ecmaVersion>=6&&(p["static"]=!1,a=s.eat(e.tokTypes.star)),s.parsePropertyName(p),i(p.key)?(i(s.parseMaybeAssign())&&s.next(),s.eat(e.tokTypes.comma)):("Identifier"!==p.key.type||p.computed||"static"!==p.key.name||s.tok.type==e.tokTypes.parenL||s.tok.type==e.tokTypes.braceL?p["static"]=!1:(p["static"]=!0,a=s.eat(e.tokTypes.star),s.parsePropertyName(p)),s.options.ecmaVersion>=5&&"Identifier"===p.key.type&&!p.computed&&("get"===p.key.name||"set"===p.key.name)&&s.tok.type!==e.tokTypes.parenL&&s.tok.type!==e.tokTypes.braceL?(p.kind=p.key.name,s.parsePropertyName(p),p.value=s.parseMethod(!1)):(p.computed||p["static"]||a||!("Identifier"===p.key.type&&"constructor"===p.key.name||"Literal"===p.key.type&&"constructor"===p.key.value)?p.kind="method":p.kind="constructor",p.value=s.parseMethod(a)),n.body.body.push(s.finishNode(p,"MethodDefinition")))}return this.popCx(),this.eat(e.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(n.body,"ClassBody"),this.finishNode(n,t?"ClassDeclaration":"ClassExpression")},h.parseFunction=function(t,s){return this.initFunction(t),this.options.ecmaVersion>=6&&(t.generator=this.eat(e.tokTypes.star)),this.tok.type===e.tokTypes.name?t.id=this.parseIdent():s&&(t.id=this.dummyIdent()),t.params=this.parseFunctionParams(),t.body=this.parseBlock(),this.finishNode(t,s?"FunctionDeclaration":"FunctionExpression")},h.parseExport=function(){var t=this.startNode();if(this.next(),this.eat(e.tokTypes.star))return t.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(e.tokTypes._default)){var s=this.parseMaybeAssign();if(s.id)switch(s.type){case"FunctionExpression":s.type="FunctionDeclaration";break;case"ClassExpression":s.type="ClassDeclaration"}return t.declaration=s,this.semicolon(),this.finishNode(t,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()?(t.declaration=this.parseStatement(),t.specifiers=[],t.source=null):(t.declaration=null,t.specifiers=this.parseExportSpecifierList(),t.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(t,"ExportNamedDeclaration")},h.parseImport=function(){var t=this.startNode();if(this.next(),this.tok.type===e.tokTypes.string)t.specifiers=[],t.source=this.parseExprAtom(),t.kind="";else{var s;this.tok.type===e.tokTypes.name&&"from"!==this.tok.value&&(s=this.startNode(),s.local=this.parseIdent(),this.finishNode(s,"ImportDefaultSpecifier"),this.eat(e.tokTypes.comma)),t.specifiers=this.parseImportSpecifierList(),t.source=this.eatContextual("from")&&this.tok.type==e.tokTypes.string?this.parseExprAtom():this.dummyString(),s&&t.specifiers.unshift(s)}return this.semicolon(),this.finishNode(t,"ImportDeclaration")},h.parseImportSpecifierList=function(){var t=this,s=[];if(this.tok.type===e.tokTypes.star){var n=this.startNode();this.next(),n.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),s.push(this.finishNode(n,"ImportNamespaceSpecifier"))}else{
var r=this.curIndent,o=this.curLineStart,a=this.nextLineStart;for(this.pushCx(),this.eat(e.tokTypes.braceL),this.curLineStart>a&&(a=this.curLineStart);!this.closes(e.tokTypes.braceR,r+(this.curLineStart<=a?1:0),o);){var p=t.startNode();if(t.eat(e.tokTypes.star))p.local=t.eatContextual("as")?t.parseIdent():t.dummyIdent(),t.finishNode(p,"ImportNamespaceSpecifier");else{if(t.isContextual("from"))break;if(p.imported=t.parseIdent(),i(p.imported))break;p.local=t.eatContextual("as")?t.parseIdent():p.imported,t.finishNode(p,"ImportSpecifier")}s.push(p),t.eat(e.tokTypes.comma)}this.eat(e.tokTypes.braceR),this.popCx()}return s},h.parseExportSpecifierList=function(){var t=this,s=[],n=this.curIndent,r=this.curLineStart,o=this.nextLineStart;for(this.pushCx(),this.eat(e.tokTypes.braceL),this.curLineStart>o&&(o=this.curLineStart);!this.closes(e.tokTypes.braceR,n+(this.curLineStart<=o?1:0),r)&&!t.isContextual("from");){var a=t.startNode();if(a.local=t.parseIdent(),i(a.local))break;a.exported=t.eatContextual("as")?t.parseIdent():a.local,t.finishNode(a,"ExportSpecifier"),s.push(a),t.eat(e.tokTypes.comma)}return this.eat(e.tokTypes.braceR),this.popCx(),s};var u=a.prototype;u.checkLVal=function(t){if(!t)return t;switch(t.type){case"Identifier":case"MemberExpression":return t;case"ParenthesizedExpression":return t.expression=this.checkLVal(t.expression),t;default:return this.dummyIdent()}},u.parseExpression=function(t){var s=this,i=this.storeCurrentPos(),n=this.parseMaybeAssign(t);if(this.tok.type===e.tokTypes.comma){var r=this.startNodeAt(i);for(r.expressions=[n];this.eat(e.tokTypes.comma);)r.expressions.push(s.parseMaybeAssign(t));return this.finishNode(r,"SequenceExpression")}return n},u.parseParenExpression=function(){this.pushCx(),this.expect(e.tokTypes.parenL);var t=this.parseExpression();return this.popCx(),this.expect(e.tokTypes.parenR),t},u.parseMaybeAssign=function(t){if(this.toks.isContextual("yield")){var s=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!=e.tokTypes.star&&!this.tok.type.startsExpr?(s.delegate=!1,s.argument=null):(s.delegate=this.eat(e.tokTypes.star),s.argument=this.parseMaybeAssign()),this.finishNode(s,"YieldExpression")}var i=this.storeCurrentPos(),n=this.parseMaybeConditional(t);if(this.tok.type.isAssign){var r=this.startNodeAt(i);return r.operator=this.tok.value,r.left=this.tok.type===e.tokTypes.eq?this.toAssignable(n):this.checkLVal(n),this.next(),r.right=this.parseMaybeAssign(t),this.finishNode(r,"AssignmentExpression")}return n},u.parseMaybeConditional=function(t){var s=this.storeCurrentPos(),i=this.parseExprOps(t);if(this.eat(e.tokTypes.question)){var n=this.startNodeAt(s);return n.test=i,n.consequent=this.parseMaybeAssign(),n.alternate=this.expect(e.tokTypes.colon)?this.parseMaybeAssign(t):this.dummyIdent(),this.finishNode(n,"ConditionalExpression")}return i},u.parseExprOps=function(t){var e=this.storeCurrentPos(),s=this.curIndent,i=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),e,-1,t,s,i)},u.parseExprOp=function(t,s,i,n,r,o){if(this.curLineStart!=o&&this.curIndent<r&&this.tokenStartsLine())return t;var a=this.tok.type.binop;if(null!=a&&(!n||this.tok.type!==e.tokTypes._in)&&a>i){var p=this.startNodeAt(s);if(p.left=t,p.operator=this.tok.value,this.next(),this.curLineStart!=o&&this.curIndent<r&&this.tokenStartsLine())p.right=this.dummyIdent();else{var h=this.storeCurrentPos();p.right=this.parseExprOp(this.parseMaybeUnary(!1),h,a,n,r,o)}return this.finishNode(p,/&&|\|\|/.test(p.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(p,s,i,n,r,o)}return t},u.parseMaybeUnary=function(t){var s,i=this,n=this.storeCurrentPos();if(this.tok.type.prefix){var r=this.startNode(),o=this.tok.type===e.tokTypes.incDec;o||(t=!0),r.operator=this.tok.value,r.prefix=!0,this.next(),r.argument=this.parseMaybeUnary(!0),o&&(r.argument=this.checkLVal(r.argument)),s=this.finishNode(r,o?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===e.tokTypes.ellipsis){var a=this.startNode();this.next(),a.argument=this.parseMaybeUnary(t),s=this.finishNode(a,"SpreadElement")}else for(s=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var p=i.startNodeAt(n);p.operator=i.tok.value,p.prefix=!1,p.argument=i.checkLVal(s),i.next(),s=i.finishNode(p,"UpdateExpression")}if(!t&&this.eat(e.tokTypes.starstar)){var h=this.startNodeAt(n);return h.operator="**",h.left=s,h.right=this.parseMaybeUnary(!1),this.finishNode(h,"BinaryExpression")}return s},u.parseExprSubscripts=function(){var t=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),t,!1,this.curIndent,this.curLineStart)},u.parseSubscripts=function(t,s,i,n,r){for(var o=this;;){if(o.curLineStart!=r&&o.curIndent<=n&&o.tokenStartsLine()){if(o.tok.type!=e.tokTypes.dot||o.curIndent!=n)return t;--n}if(o.eat(e.tokTypes.dot)){var a=o.startNodeAt(s);a.object=t,o.curLineStart!=r&&o.curIndent<=n&&o.tokenStartsLine()?a.property=o.dummyIdent():a.property=o.parsePropertyAccessor()||o.dummyIdent(),a.computed=!1,t=o.finishNode(a,"MemberExpression")}else if(o.tok.type==e.tokTypes.bracketL){o.pushCx(),o.next();var p=o.startNodeAt(s);p.object=t,p.property=o.parseExpression(),p.computed=!0,o.popCx(),o.expect(e.tokTypes.bracketR),t=o.finishNode(p,"MemberExpression")}else if(i||o.tok.type!=e.tokTypes.parenL){if(o.tok.type!=e.tokTypes.backQuote)return t;var h=o.startNodeAt(s);h.tag=t,h.quasi=o.parseTemplate(),t=o.finishNode(h,"TaggedTemplateExpression")}else{var u=o.startNodeAt(s);u.callee=t,u.arguments=o.parseExprList(e.tokTypes.parenR),t=o.finishNode(u,"CallExpression")}}},u.parseExprAtom=function(){var t;switch(this.tok.type){case e.tokTypes._this:case e.tokTypes._super:var s=this.tok.type===e.tokTypes._this?"ThisExpression":"Super";return t=this.startNode(),this.next(),this.finishNode(t,s);case e.tokTypes.name:var n=this.storeCurrentPos(),r=this.parseIdent();return this.eat(e.tokTypes.arrow)?this.parseArrowExpression(this.startNodeAt(n),[r]):r;case e.tokTypes.regexp:t=this.startNode();var o=this.tok.value;return t.regex={pattern:o.pattern,flags:o.flags},t.value=o.value,t.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(t,"Literal");case e.tokTypes.num:case e.tokTypes.string:return t=this.startNode(),t.value=this.tok.value,t.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(t,"Literal");case e.tokTypes._null:case e.tokTypes._true:case e.tokTypes._false:return t=this.startNode(),t.value=this.tok.type===e.tokTypes._null?null:this.tok.type===e.tokTypes._true,t.raw=this.tok.type.keyword,this.next(),this.finishNode(t,"Literal");case e.tokTypes.parenL:var a=this.storeCurrentPos();this.next();var p=this.parseExpression();if(this.expect(e.tokTypes.parenR),this.eat(e.tokTypes.arrow))return this.parseArrowExpression(this.startNodeAt(a),p.expressions||(i(p)?[]:[p]));if(this.options.preserveParens){var h=this.startNodeAt(a);h.expression=p,p=this.finishNode(h,"ParenthesizedExpression")}return p;case e.tokTypes.bracketL:return t=this.startNode(),t.elements=this.parseExprList(e.tokTypes.bracketR,!0),this.finishNode(t,"ArrayExpression");case e.tokTypes.braceL:return this.parseObj();case e.tokTypes._class:return this.parseClass();case e.tokTypes._function:return t=this.startNode(),this.next(),this.parseFunction(t,!1);case e.tokTypes._new:return this.parseNew();case e.tokTypes.backQuote:return this.parseTemplate();default:return this.dummyIdent()}},u.parseNew=function(){var t=this.startNode(),s=this.curIndent,i=this.curLineStart,n=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(e.tokTypes.dot))return t.meta=n,t.property=this.parseIdent(!0),this.finishNode(t,"MetaProperty");var r=this.storeCurrentPos();return t.callee=this.parseSubscripts(this.parseExprAtom(),r,!0,s,i),this.tok.type==e.tokTypes.parenL?t.arguments=this.parseExprList(e.tokTypes.parenR):t.arguments=[],this.finishNode(t,"NewExpression")},u.parseTemplateElement=function(){var t=this.startNode();return t.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,"\n"),cooked:this.tok.value},this.next(),t.tail=this.tok.type===e.tokTypes.backQuote,this.finishNode(t,"TemplateElement")},u.parseTemplate=function(){var t=this,s=this.startNode();this.next(),s.expressions=[];var i=this.parseTemplateElement();for(s.quasis=[i];!i.tail;)t.next(),s.expressions.push(t.parseExpression()),t.expect(e.tokTypes.braceR)?i=t.parseTemplateElement():(i=t.startNode(),i.value={cooked:"",raw:""},i.tail=!0,t.finishNode(i,"TemplateElement")),s.quasis.push(i);return this.expect(e.tokTypes.backQuote),this.finishNode(s,"TemplateLiteral")},u.parseObj=function(){var t=this,s=this.startNode();s.properties=[],this.pushCx();var n=this.curIndent+1,r=this.curLineStart;for(this.eat(e.tokTypes.braceL),this.curIndent+1<n&&(n=this.curIndent,r=this.curLineStart);!this.closes(e.tokTypes.braceR,n,r);){var o,a,p=t.startNode();if(t.options.ecmaVersion>=6&&(a=t.storeCurrentPos(),p.method=!1,p.shorthand=!1,o=t.eat(e.tokTypes.star)),t.parsePropertyName(p),i(p.key))i(t.parseMaybeAssign())&&t.next(),t.eat(e.tokTypes.comma);else{if(t.eat(e.tokTypes.colon))p.kind="init",p.value=t.parseMaybeAssign();else if(t.options.ecmaVersion>=6&&(t.tok.type===e.tokTypes.parenL||t.tok.type===e.tokTypes.braceL))p.kind="init",p.method=!0,p.value=t.parseMethod(o);else if(t.options.ecmaVersion>=5&&"Identifier"===p.key.type&&!p.computed&&("get"===p.key.name||"set"===p.key.name)&&t.tok.type!=e.tokTypes.comma&&t.tok.type!=e.tokTypes.braceR)p.kind=p.key.name,t.parsePropertyName(p),p.value=t.parseMethod(!1);else{if(p.kind="init",t.options.ecmaVersion>=6)if(t.eat(e.tokTypes.eq)){var h=t.startNodeAt(a);h.operator="=",h.left=p.key,h.right=t.parseMaybeAssign(),p.value=t.finishNode(h,"AssignmentExpression")}else p.value=p.key;else p.value=t.dummyIdent();p.shorthand=!0}s.properties.push(t.finishNode(p,"Property")),t.eat(e.tokTypes.comma)}}return this.popCx(),this.eat(e.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(s,"ObjectExpression")},u.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(e.tokTypes.bracketL))return t.computed=!0,t.key=this.parseExpression(),void this.expect(e.tokTypes.bracketR);t.computed=!1}var s=this.tok.type===e.tokTypes.num||this.tok.type===e.tokTypes.string?this.parseExprAtom():this.parseIdent();t.key=s||this.dummyIdent()},u.parsePropertyAccessor=function(){return this.tok.type===e.tokTypes.name||this.tok.type.keyword?this.parseIdent():void 0},u.parseIdent=function(){var t=this.tok.type===e.tokTypes.name?this.tok.value:this.tok.type.keyword;if(!t)return this.dummyIdent();var s=this.startNode();return this.next(),s.name=t,this.finishNode(s,"Identifier")},u.initFunction=function(t){t.id=null,t.params=[],this.options.ecmaVersion>=6&&(t.generator=!1,t.expression=!1)},u.toAssignable=function(t,e){var s=this;if(!t||"Identifier"==t.type||"MemberExpression"==t.type&&!e);else if("ParenthesizedExpression"==t.type)t.expression=this.toAssignable(t.expression,e);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if("ObjectExpression"==t.type){t.type="ObjectPattern";for(var i=t.properties,n=0;n<i.length;n++)i[n].value=s.toAssignable(i[n].value,e)}else if("ArrayExpression"==t.type)t.type="ArrayPattern",this.toAssignableList(t.elements,e);else if("SpreadElement"==t.type)t.type="RestElement",t.argument=this.toAssignable(t.argument,e);else{if("AssignmentExpression"!=t.type)return this.dummyIdent();t.type="AssignmentPattern",delete t.operator}}return t},u.toAssignableList=function(t,e){for(var s=this,i=0;i<t.length;i++)t[i]=s.toAssignable(t[i],e);return t},u.parseFunctionParams=function(t){return t=this.parseExprList(e.tokTypes.parenR),this.toAssignableList(t,!0)},u.parseMethod=function(t){var s=this.startNode();return this.initFunction(s),s.params=this.parseFunctionParams(),s.generator=t||!1,s.expression=this.options.ecmaVersion>=6&&this.tok.type!==e.tokTypes.braceL,s.body=s.expression?this.parseMaybeAssign():this.parseBlock(),this.finishNode(s,"FunctionExpression")},u.parseArrowExpression=function(t,s){return this.initFunction(t),t.params=this.toAssignableList(s,!0),t.expression=this.tok.type!==e.tokTypes.braceL,t.body=t.expression?this.parseMaybeAssign():this.parseBlock(),this.finishNode(t,"ArrowFunctionExpression")},u.parseExprList=function(t,s){var n=this;this.pushCx();var r=this.curIndent,o=this.curLineStart,a=[];for(this.next();!this.closes(t,r+1,o);)if(n.eat(e.tokTypes.comma))a.push(s?null:n.dummyIdent());else{var p=n.parseMaybeAssign();if(i(p)){if(n.closes(t,r,o))break;n.next()}else a.push(p);n.eat(e.tokTypes.comma)}return this.popCx(),this.eat(t)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),a},r.defaultOptions.tabSize=4,r.parse_dammit=n,r.LooseParser=a,r.pluginsLoose=o,t.parse_dammit=n,t.LooseParser=a,t.pluginsLoose=o,Object.defineProperty(t,"__esModule",{value:!0})}),define("Session",["require","exports","module","HintUtils","ScopeManager","node_modules/acorn/dist/acorn","node_modules/acorn/dist/acorn_loose"],function(t,e,s){"use strict";function i(t){this.editor=t,this.path=t.document.file.fullPath,this.ternHints=[],this.ternGuesses=null,this.fnType=null,this.builtins=null}function n(t){return t.state.lexical?t.state.lexical:t.state.localState&&t.state.localState.lexical?t.state.localState.lexical:void 0}function r(t,e){var s=t.value.toLowerCase(),i=e.value.toLowerCase();return"_"===s[0]&&"_"!==i[0]?1:"_"===i[0]&&"_"!==s[0]?-1:i>s?-1:s>i?1:0}var o=brackets.getModule("utils/StringMatch"),a=brackets.getModule("utils/TokenUtils"),p=brackets.getModule("language/LanguageManager"),h=brackets.getModule("language/HTMLUtils"),u=t("HintUtils"),c=t("ScopeManager"),l=t("node_modules/acorn/dist/acorn"),d=t("node_modules/acorn/dist/acorn_loose");i.prototype._getBuiltins=function(){return this.builtins||(this.builtins=c.getBuiltins(),this.builtins.push("requirejs.js")),this.builtins},i.prototype.getPath=function(){return this.path},i.prototype.getCursor=function(){return this.editor.getCursorPos()},i.prototype.getLine=function(t){var e=this.editor.document;return e.getLine(t)},i.prototype.getOffset=function(){var t=this.getCursor();return this.getOffsetFromCursor(t)},i.prototype.getOffsetFromCursor=function(t){return this.editor.indexFromPos(t)},i.prototype.getToken=function(t){var e=this.editor._codeMirror;return t?a.getTokenAt(e,t):a.getTokenAt(e,this.getCursor())},i.prototype.getNextTokenOnLine=function(t){return t=this.getNextCursorOnLine(t),t?this.getToken(t):null},i.prototype.getNextCursorOnLine=function(t){var e=this.editor.document,s=e.getLine(t.line);return t.ch<s.length?{ch:t.ch+1,line:t.line}:null},i.prototype._getPreviousToken=function(t){var e=this.getToken(t),s=e,i=this.editor.document;do{if(s.start<t.ch)t.ch=s.start;else if(s.start>0)t.ch=s.start-1;else{if(!(t.line>0))break;t.ch=i.getLine(t.line-1).length,t.line--}s=this.getToken(t)}while(!/\S/.test(s.string));return s},i.prototype.getNextToken=function(t,e){var s=this.getToken(t),i=s,n=this.editor.document;do{if(i.end>t.ch)t.ch=i.end;else if(i.end<n.getLine(t.line).length)t.ch=i.end+1;else{if(!n.getLine(t.line+1)){i=null;break}t.ch=0,t.line++}i=this.getToken(t)}while(e&&!/\S/.test(i.string));return i},i.prototype.getQuery=function(){var t=this.getCursor(),e=this.getToken(t),s="",i=t.ch,n=i;if(e){for(var r=this.getLine(t.line);i>0&&u.maybeIdentifier(r[i-1]);)i--;s=r.substring(i,n)}return s},i.prototype.getContext=function(t,e){var s=this.getToken(t);return void 0===e&&(e=0),")"===s.string?(this._getPreviousToken(t),this.getContext(t,++e)):"("===s.string?(this._getPreviousToken(t),this.getContext(t,--e)):e>0||"."===s.string?(this._getPreviousToken(t),this.getContext(t,e)):s.string},i.prototype.findPreviousDot=function(){var t=this.getCursor(),e=this.getToken(t);return e&&"."===e.string?t:(e=this._getPreviousToken(t),e&&"."===e.string?t:void 0)},i.prototype.getFunctionInfo=function(){function t(){var t,e,s=a.type,i={line:o.line,ch:a.end};return"variable-2"!==s&&"variable"!==s&&"property"!==s||(t=p.getNextToken(i,!0),!t||"("!==t.string)?null:e=n(t)}function e(t){return t&&("call"===t.info||void 0===t.info&&("]"===t.type||"}"===t.type)&&"call"===t.prev.info)}var s,i,r=!1,o=this.getCursor(),a=this.getToken(o),p=this,h=!1;if(a&&(i=n(a),h=e(i),h||(i=t(),h=e(i)),h)){void 0===i.info&&(i=i.prev);var u,c,l,d="call"===i.info?i.column:i.prev.column;for(u=this.getCursor().line,c=Math.max(0,u-9),l=!1;u>=c;--u)if("("===this.getLine(u).charAt(d)){l=!0;break}l&&(r=!0,s={line:u,ch:d})}return{inFunctionCall:r,functionCallPos:s}},i.prototype.getType=function(){var t,e=!1,s=null,i=this.getCursor(),r=this.getToken(i);return r&&(t=n(r),"property"===r.type&&(e=!0),i=this.findPreviousDot(),i&&(e=!0,s=this.getContext(i))),{property:e,context:s}},i.prototype.getHints=function(t,e){function s(t){return-1!==h.indexOf(t)}function i(e,i){var n=$.map(e,function(e){var n=i.match(e.value,t);return n&&(n.value=e.value,n.guess=e.guess,n.type=e.type,void 0!==e.keyword&&(n.keyword=e.keyword),void 0!==e.literal&&(n.literal=e.literal),void 0!==e.depth&&(n.depth=e.depth),e.doc&&(n.doc=e.doc),e.url&&(n.url=e.url),!p.property&&!p.showFunctionType&&e.origin&&s(e.origin)?n.builtin=1:n.builtin=0),n});return n}void 0===t&&(t="");var n,a=500,p=this.getType(),h=this._getBuiltins(),c=!1;return p.property?(n=this.ternHints||[],n=i(n,e),0===n.length&&(this.ternGuesses?n=i(this.ternGuesses,e):c=!0),o.multiFieldSort(n,["matchGoodness",r])):(n=this.ternHints||[],n=n.concat(u.LITERALS),n=n.concat(u.KEYWORDS),n=i(n,e),o.multiFieldSort(n,["matchGoodness","depth","builtin",r])),n.length>a&&(n=n.slice(0,a)),{hints:n,needGuesses:c}},i.prototype.setTernHints=function(t){this.ternHints=t},i.prototype.setGuesses=function(t){this.ternGuesses=t},i.prototype.setFnType=function(t){this.fnType=t},i.prototype.setFunctionCallPos=function(t){this.functionCallPos=t},i.prototype.getParameterHint=function(){var t,e=this.fnType,s=this.getCursor(),i=this.getToken(this.functionCallPos),n={line:this.functionCallPos.line,ch:i.start},r=this.editor.document.getRange(n,{line:this.functionCallPos.line+10,ch:0});try{t=l.parse(r)}catch(o){t=d.parse_dammit(r,{})}var a=this.getOffsetFromCursor(n),p=this.getOffsetFromCursor(s),h=p-a,u=t.body[0],c=-1;if("ExpressionStatement"===u.type&&(u=u.expression,"SequenceExpression"===u.type&&(u=u.expressions[0]),"BinaryExpression"===u.type&&("CallExpression"===u.left.type?u=u.left:"CallExpression"===u.right.type&&(u=u.right)),"CallExpression"===u.type)){var f,m,y=u.arguments,g=y.length,x=h;for(f=0;g>f;f++){if(u=y[f],h>=u.start&&h<=u.end){c=f;break}if(h<u.start){if(m=r.substring(x,u.start),m.indexOf(",")>=h-x)f--;else if(0===f&&-1!==m.indexOf("(")){c=-1;break}c=Math.max(0,f);break}f+1===g&&(m=r.substring(u.end,h),-1!==m.indexOf(",")&&(c=f+1)),x=u.end}0===g&&p>this.getOffsetFromCursor(this.functionCallPos)&&(c=0)}return{parameters:e,currentIndex:c}},i.prototype.getJavascriptText=function(){if("html"===p.getLanguageForPath(this.editor.document.file.fullPath).getId()){var t="",e=this.editor,s=h.findBlocks(e,"javascript"),i={line:0,ch:0};return s.forEach(function(s){var n=s.start,r=s.end,o=e.document.getRange(i,n);o=o.replace(/./g," "),i=r,t+=o+s.text}),t}return this.editor.document.getText()},i.prototype.isFunctionName=function(){var t=this.getCursor(),e=this._getPreviousToken(t);return"function"===e.string},s.exports=i}),define("main",["require","exports","module","ParameterHintManager","HintUtils","ScopeManager","Session","node_modules/acorn/dist/acorn"],function(t,e,s){"use strict";function i(){return C.get("codehint.JSHints")!==!1&&C.get("showCodeHints")!==!1}function n(t){var e=n.config;Object.keys(t).forEach(function(s){e[s]=t[s]}),P._setConfig(t)}function r(){return M}function o(t,e,s){function i(t,e){H&&(t.addClass("brackets-js-hints-with-type-details"),function(){e.url&&$("<a></a>").appendTo(t).addClass("jshint-link").attr("href",e.url).on("click",function(t){t.stopImmediatePropagation(),t.stopPropagation()})}(),e.type?"?"!==e.type.trim()&&(e.type.length<30&&$("<span>"+e.type.split("->").join(":").toString().trim()+"</span>").appendTo(t).addClass("brackets-js-hints-type-details"),$("<span>"+e.type.split("->").join(":").toString().trim()+"</span>").appendTo(t).addClass("jshint-description")):e.keyword&&$("<span>keyword</span>").appendTo(t).addClass("brackets-js-hints-keyword"),e.doc&&(t.attr("title",e.doc),$("<span></span>").text(e.doc.trim()).appendTo(t).addClass("jshint-jsdoc")))}function r(t,e){return t.map(function(t){var e=$("<span>").addClass("brackets-js-hints");if(!s.property&&!t.builtin&&void 0!==t.depth)switch(t.depth){case 0:e.addClass("priority-high");break;case 1:e.addClass("priority-medium");break;case 2:e.addClass("priority-low");break;default:e.addClass("priority-lowest")}return t.guess&&e.addClass("guess-hint"),t.keyword&&e.addClass("keyword-hint"),t.literal&&e.addClass("literal-hint"),t.stringRanges?t.stringRanges.forEach(function(t){t.matched?e.append($("<span>").append(y.escape(t.text)).addClass("matched-hint")):e.append(y.escape(t.text))}):e.text(t.value),e.data("token",t),i(e,t),e})}var o,a;return n.config.debug&&console.debug("Hints",y.pluck(t,"label")),o=y.trim(e,w.SINGLE_QUOTE+w.DOUBLE_QUOTE),a=t?r(t,o):[],{hints:a,match:null,selectInitial:!0,handleWideResults:t.handleWideResults}}function a(){}function p(t,e,s,i){F=t,R=e,O=s,D=i}function h(){F=null,R=null,O=null,D=null}function u(t){var e=b.getLanguageForPath(t.file.fullPath).getId();return-1!==V.indexOf(e)}function c(t){return"javascript"===t.getModeForSelection()}function l(){return j||(j=new S.StringMatcher({preferPrefixMatches:!0})),j}function d(t){return t&&!t.hasOwnProperty("hints")&&"pending"===t.state()}function f(t,e,s,i,n){var r=M.getHints(t,l());if(r.needGuesses){var a=P.requestGuesses(M,M.editor.document);return n||(n=$.Deferred()),a.done(function(){if(d(n)){r=M.getHints(t,l()),p(r.hints,e,s,i);var a=o(F,t,s);n.resolveWith(null,[a])}}).fail(function(){d(n)&&n.reject()}),n}if(d(n)){p(r.hints,e,s,i);var h=o(F,t,s);return n.resolveWith(null,[h]),null}return p(r.hints,e,s,i),o(F,t,s)}var m,y=brackets.getModule("thirdparty/lodash"),g=brackets.getModule("editor/CodeHintManager"),x=brackets.getModule("editor/EditorManager"),k=brackets.getModule("command/Commands"),v=brackets.getModule("command/CommandManager"),b=brackets.getModule("language/LanguageManager"),T=brackets.getModule("utils/AppInit"),E=brackets.getModule("utils/ExtensionUtils"),S=brackets.getModule("utils/StringMatch"),_=brackets.getModule("project/ProjectManager"),C=brackets.getModule("preferences/PreferencesManager"),N=brackets.getModule("strings"),L=t("ParameterHintManager"),w=t("HintUtils"),P=t("ScopeManager"),I=t("Session"),A=t("node_modules/acorn/dist/acorn"),M=null,R=null,F=null,O=null,D=null,j=null,U=!0,H=!0,G=!1,V=["html","php"];C.definePreference("jscodehints.detectedExclusions","array",[],{description:N.DESCRIPTION_DETECTED_EXCLUSIONS}),C.definePreference("jscodehints.inferenceTimeout","number",3e4,{description:N.DESCRIPTION_INFERENCE_TIMEOUT}),C.definePreference("jscodehints.noHintsOnDot","boolean",!1,{description:N.DESCRIPTION_NO_HINTS_ON_DOT}),C.definePreference("codehint.JSHints","boolean",!0,{description:N.DESCRIPTION_JS_HINTS}),C.definePreference("jscodehints.typedetails","boolean",!0,{description:N.DESCRIPTION_JS_HINTS_TYPE_DETAILS}),C.on("change","codehint.JSHints",function(){U=i()}),C.on("change","showCodeHints",function(){U=i()}),C.on("change","jscodehints.noHintsOnDot",function(){G=!!C.get("jscodehints.noHintsOnDot")}),C.on("change","jscodehints.typedetails",function(){H=C.get("jscodehints.typedetails")}),n.config={},a.prototype.needNewHints=function(t){var e=t.getCursor(),s=t.getType();return!F||!R||!O||R.line!==e.line||s.property!==O.property||s.context!==O.context||s.showFunctionType!==O.showFunctionType||s.functionCallPos&&O.functionCallPos&&s.functionCallPos.ch!==O.functionCallPos.ch},a.prototype.shouldCloseHints=function(t){var e=t.getCursor(),s=t.getToken(e),i=D;return R&&e.line===R.line?(null===s.type&&(s=t.getNextTokenOnLine(e)),i&&null===i.type&&(i=t.getNextTokenOnLine(R)),i&&s&&s.type===i.type?s.string.length>=i.string.length?0!==s.string.indexOf(i.string):0!==i.string.indexOf(s.string):!0):!0},a.prototype.hasHints=function(t,e){if(M&&w.hintableKey(e,!G)){if(u(M.editor.document)&&!c(M.editor))return!1;var s=M.getCursor(),i=M.getToken(s);if(i&&w.hintable(i))return M.isFunctionName()?!1:(this.needNewHints(M)&&(h(),j=null),!0)}return!1},a.prototype.getHints=function(t){var e=M.getCursor(),s=M.getToken(e);if(s&&w.hintableKey(t,!G)&&w.hintable(s)){var i=M.getType(),n=M.getQuery();if(g.isOpen()&&this.shouldCloseHints(M))return null;if(this.needNewHints(M)){t&&(P.handleFileChange([{from:e,to:e,text:[t]}]),m=!0);var r=P.requestHints(M,M.editor.document),o=$.Deferred(),a=M;return r.done(function(){d(o)&&(a===M?f(n,e,i,s,o):o.reject()),a=null}).fail(function(){d(o)&&o.reject(),a=null}),o}if(F)return f(n,e,i,s)}return null},a.prototype.insertHint=function(t){var e=t.data("token"),s=e.value,i=M.getCursor(),n=M.getQuery(),r={line:i.line,ch:i.ch-n.length},o={line:i.line,ch:i.ch},a=!1;if(M.getType().property){var p=A.tokenizer(s),h=p.getToken();if(h.type===A.tokTypes.name||h.type.keyword?(h=p.getToken(),h.type!==A.tokTypes.eof&&(a=!0)):a=!0,a){var u=M.findPreviousDot();u&&(s='["'+s+'"]',r.line=u.line,r.ch=u.ch-1)}}return M.editor._codeMirror.replaceRange(s,r,o),!1},T.appReady(function(){function t(t,e){M=new I(t),P.handleEditorChange(M,t.document,e?e.document:null),L.setSession(M),F=null}function i(e,s){h(),U&&(e&&w.isSupportedLanguage(b.getLanguageForPath(e.document.file.fullPath).getId())?(t(e,s),e.on(w.eventName("change"),function(t,e,s){m||(P.handleFileChange(s),L.popUpHintAtOpenParen()),m=!1}),L.installListeners(e)):M=null)}function o(t){t&&(t.off(w.eventName("change")),L.uninstallListeners(t))}function p(t,e,s){s&&s.document.off(w.eventName("languageChanged")),e&&e.document.on(w.eventName("languageChanged"),function(){o(e),i(e)}),o(s),i(e,s)}function u(){function t(t,e){var s=P.requestJumptoDef(t,t.editor.document,e);s.hasOwnProperty("promise")&&s.promise.done(i).fail(function(){n.reject()})}function e(e,s,i){function r(t){if(!t)return!1;if("."===t.string)return!0;var e=t.type;return"variable-2"===e||"variable"===e||"property"===e?!0:!1}var o=!1;if(i){var a,p,h={line:s.line,ch:s.ch},u=M._getPreviousToken(h);if("."===u.string&&(h={line:s.line,ch:s.ch},a=M.getNextToken(h,!0),a&&"="===a.string)){for(a=M.getNextToken(h,!0);r(a);)p=M.getOffsetFromCursor({line:h.line,ch:a.end}),a=M.getNextToken(h,!1);p&&(t(M,p),o=!0)}}o||(M.editor.setSelection(e,s,!0),n.resolve(!0))}var s,i;if(!M||"javascript"!==M.editor.getModeForSelection())return null;var n=new $.Deferred;return i=function(t){if(t.resultFile)if(t.resultFile!==t.file){var s=P.getResolvedPath(t.resultFile);s&&v.execute(k.FILE_OPEN,{fullPath:s}).done(function(){e(t.start,t.end,t.isFunction)})}else e(t.start,t.end,t.isFunction);else n.reject()},s=M.getOffset(),t(M,s),n.promise()}function c(){var t=M.getCursor(),e=P.requestJumptoDef(M,M.editor.document,t);return e}brackets._jsCodeHintsHelper=c,brackets._configureJSCodeHints=n,E.loadStyleSheet(s,"styles/brackets-js-hints.css"),x.on(w.eventName("activeEditorChange"),p),_.on("beforeProjectClose",function(){P.handleProjectClose()}),_.on("projectOpen",function(){P.handleProjectOpen()}),i(x.getActiveEditor()),x.registerJumpToDefProvider(u);var l=new a;g.registerHintProvider(l,w.SUPPORTED_LANGUAGES,0),L.addCommands(),e.getSession=r,e.jsHintProvider=l,e.initializeSession=t,e.handleJumpToDefinition=u})});